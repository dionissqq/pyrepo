{"version":3,"sources":["logo.svg","partials/footer.js","partials/navbar.js","about/about.js","home/home.js","auth/login.js","auth/logout.js","auth/register.js","errorPages/noAuth.js","errorPages/notFound.js","photos/photos.js","photos/newphoto.js","albums/newalbum.js","photos/myphotos.js","photos/photo.js","albums/album.js","photos/editphoto.js","albums/albums.js","errorPages/noAdmin.js","users/users.js","users/user.js","users/edituser.js","hystory.js","errorPages/success.js","auth/telega.js","dev.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","MyFooter","props","class","MyNavbar","profile","users","lastButtons","useState","auth","setAuth","me","setMe","console","log","useEffect","jwt","localStorage","getItem","fetch","headers","Authorization","then","user","status","json","getme","Nav","Link","to","id","login","role","key","Navbar","collapseOnSelect","expand","bg","Brand","src","weign","height","Toggle","aria-controls","Collapse","className","NavDropdown","title","Item","Divider","About","Home","comp","a","async","getUser","style","width","textAlign","alt","action","method","target","type","LoginForm","state","pass","handleLoginChange","bind","handlePassChange","handleSubmit","event","value","this","setState","e","preventDefault","x","authResult","token","undefined","document","getElementById","innerText","setItem","window","location","href","catch","error","onSubmit","name","onChange","placeholder","required","aria-label","aria-describedby","React","Component","Logout","removeItem","RegisterForm","pass1","fullname","file","button","serverError","handleFullnameChange","handlePass1Change","handleAvaChange","length","checkButton","text","replace","formData","FormData","body","response","ok","result","JSON","stringify","highText","disabled","enctype","accept","for","NoAuth","marginLeft","minWidth","NotFound","Photos","page","tag","pageNum","nextPage","prevPage","listPhotos","heading","authSetted","proceedState","handleTagChange","handleNext","handlePrev","reqOptions","Error","itemsData","pageNumber","parseInt","displayData","err","notF","button1","onClick","onclick","button2","map","photo","display","xmlns","preserveAspectRatio","focusable","url","y","_id","NewPhoto","author","checkAuth","handleNameChange","handlePriceChange","handleAuthorChange","handlePhotoChange","price","history","push","errorText","onLoadedData","NewAlbum","photoNames","names","photos","Promise","all","Photo","editButton","deleteButton","buyButton","errorStatus","modalShow","handleBuy","handleDelete","getPhoto","match","params","options","era","year","month","day","weekday","timezone","hour","minute","second","date","Date","parse","toLocaleString","condition","owner","toString","buttons","MyVerticallyCenteredModal","show","onHide","Modal","size","aria-labelledby","centered","Header","closeButton","Title","Body","Footer","Button","Album","album","displayPhotos","next","prev","getAlbum","i","changePhotos","prevButton","nextButton","minHeight","previewUrl","margin","can","handlePriceInput","handleNameInput","handleAuthorInput","alert","Albums","listAlbums","season","radiochange","NoAdm","Users","listUsers","adm","tmpUser","num","registeredAt","scope","User","previewUser","handleChangeRights","avaUrl","newuser","Mybuttons","editb","rigthsB","EditUser","handleLoginInput","handleFullnameInput","createBrowserHistory","Success","Telega","URL","searchParams","get","cellspacing","cellpadding","border","colspan","App","path","exact","component","Login","Register","EditPhoto","MyPhotos","dev","Boolean","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a5865b26.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\nimport './footer.css'\n\nexport default function MyFooter(props) {\n    return (\n        <footer class=\"fixed-bottom\">\n            <div class=\"footer\">@c</div>\n        </footer>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Nav, Navbar, NavDropdown } from 'react-bootstrap';\nimport {\n    Link\n} from \"react-router-dom\";\nexport default function MyNavbar(props) {\n    \n    const [auth, setAuth] = useState(false);\n    const [me,setMe] = useState({});\n    console.log(props)\n   useEffect(() => {\n       getme()\n   }, [])\n\n      function  getme(){\n        const jwt = localStorage.getItem('jwt');\n         fetch('/api/v1/me', {\n                headers: { Authorization: `Bearer ${jwt}`, }\n            })\n            .then((user)=>{\n                console.log(\"user\")\n                console.log(user)\n                if(user.status ==200)\n                    setAuth(true)\n                return (user.json())\n            })\n            .then((user)=>{\n                setMe(user)\n            })\n        }\n            console.log(\"auth\")\n        console.log(auth)\n        let profile\n        let users\n        console.log(me)\n        if(me!={})\n            profile=<Nav.Link><Link   class=\"no_link\" to={\"/users/\"+me.id}>{me.login}</Link ></Nav.Link>\n        let lastButtons\n        if( me.role == 1)\n            users=<Nav.Link><Link   class=\"no_link\" to=\"/users\">users</Link ></Nav.Link>\n        if(!auth)\n            lastButtons= <Nav key={auth}>\n            <Nav.Link><Link  class=\"no_link\"to=\"/login\">login</Link ></Nav.Link>\n            <Nav.Link><Link  class=\"no_link\" to=\"/register\">sign up</Link ></Nav.Link>\n        </Nav>\n        else \n            lastButtons=<Nav key={auth}><Nav.Link><Link   class=\"no_link\" to=\"/logout\">logout</Link ></Nav.Link></Nav>\n         return (\n        <Navbar collapseOnSelect expand=\"lg\" bg=\"light\" >\n            <Navbar.Brand ><Link class=\"no_link\" to=\"/\"><img src=\"https://res.cloudinary.com/dksfym6ok/image/upload/v1576428172/Screenshot_from_2019-12-15_18-42-12_vbqdkh.png\" weign=\"40\" height=\"40\"/></Link></Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\n                <Nav className=\"mr-auto\">\n                    {profile}\n                    {users}\n                    <NavDropdown title=\"photos\" id=\"collasible-nav-dropdown\">\n                    <NavDropdown.Item ><Link class=\"no_link\" to=\"/photos\">all</Link></NavDropdown.Item>\n                    <NavDropdown.Item><Link class=\"no_link\" to=\"/myphotos\">my</Link></NavDropdown.Item>\n                        <NavDropdown.Divider />\n                        <NavDropdown.Item><Link class=\"no_link\" to=\"/newphoto\">new</Link></NavDropdown.Item>\n                    </NavDropdown>\n                    <NavDropdown title=\"albums\" id=\"collasible-nav-dropdown\">\n                    <NavDropdown.Item ><Link class=\"no_link\" to=\"/albums\">all</Link></NavDropdown.Item>\n                        <NavDropdown.Divider />\n                    <NavDropdown.Item to=\"/newphoto\"><Link class=\"no_link\" to=\"/newalbum\">new</Link></NavDropdown.Item>\n                    </NavDropdown>\n                    <Nav.Link ><Link class=\"no_link\"  to=\"/about\">about</Link ></Nav.Link>\n                </Nav>\n                {lastButtons}\n            </Navbar.Collapse>\n        </Navbar>\n        \n    )\n}","import React from 'react';\nimport './about.css'\n\nexport default function About(props) {\n    return (\n        <div class = \"leftSpace\">This is a photo hosting site created for people interested in photoindustry.\n            <p>Here you can buy/share/sell photos and follow you favourite people.  </p>\n            <p>Nowadays site is under development, so some functions may not work properly.</p>\n            <p>Thanks for choosing photoNee.</p>\n        </div>\n    );\n}","import React,{useEffect,useState} from 'react';\nimport './home.css'\nimport { Link } from 'react-router-dom';\n\nexport default function Home(props) {\n    const [auth, setAuth] = useState(true);\n    useEffect(() => {\n        getUser()\n    }, [])\n    async function getUser(){\n        const jwt = localStorage.getItem('jwt');\n         fetch('/api/v1/me', {\n                headers: { Authorization: `Bearer ${jwt}`, }\n            })\n            .then((user)=>{\n                console.log(\"user\")\n                console.log(user)\n                if(user.status !=200)\n                    setAuth(false)\n                return (user.json())\n            })\n            \n    }\n    let comp\n    if(!auth)\n        comp=<div><p style={{width:\"50%\"}} class=\"allHome\">log in to enable all features</p>\n        <Link class=\"no_link\"to=\"/login\"><button class=\"btn btn-secondary  homeBtn\"  role=\"button\">log in &raquo;</button></Link></div>\n    return (\n        \n    <div role=\"main\">\n\n        <div class=\"jumbotron\">\n        <div class=\"container\">\n            <h2 class=\" allHome\" >Welcome!</h2>\n            <p >This is a site created to fit all your photo tastes</p>\n            {comp}\n        </div>\n        </div>\n\n        <div class=\"container marketing\">\n\n        <div class=\"row\">\n        <div class=\"col-lg-4\" style={{textAlign:\"center\"}}>\n            <img class=\"rounded-circle\" src=\"https://icon-library.net/images/photo-icon-png/photo-icon-png-10.jpg\" alt=\"Generic placeholder image\" width=\"140\" height=\"140\"/>\n            <h2>Photos</h2>\n            <p>Explore more photos</p>\n            <p><Link class=\"no_link\"to=\"/photos\"><button class=\"btn btn-secondary btn-sm\"  role=\"button\">View all &raquo;</button></Link></p>\n        </div>\n        <div class=\"col-lg-4\" style={{textAlign:\"center\"}}>\n            <img class=\"rounded-circle\" src=\"https://cdn3.iconfinder.com/data/icons/web-ui-3/128/Folder-2-512.png\" alt=\"Generic placeholder image\" width=\"140\" height=\"140\"/>\n            <h2>Albums</h2>\n            <p>Explore more albums</p>\n            <p><Link class=\"no_link\"to=\"/albums\"><button class=\"btn btn-secondary btn-sm\" role=\"button\">View all &raquo;</button></Link></p>\n        </div>\n        <div class=\"col-lg-4\" style={{textAlign:\"center\"}}>\n            <img class=\"rounded-circle\" src=\"https://iconmonstr.com/wp-content/g/gd/makefg.php?i=../assets/preview/2018/png/iconmonstr-telegram-5.png&r=0&g=0&b=0\" alt=\"Generic placeholder image\" width=\"140\" height=\"140\"/>\n            <h2>Telegram</h2>\n            <p>Now you can stay up-to-date via Telegram</p>\n            <p><form action=\"https://t.me/photoNee_bot\" method=\"get\" target=\"_blank\"><button class=\"btn btn-secondary btn-sm\" type=\"submit\" role=\"button\"> go &raquo;</button></form></p>\n        </div>\n        </div>\n        </div>\n  </div>\n\n    );\n}","\nimport React from 'react';\n\nimport './login.css'\nclass LoginForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            login:'',\n            pass:''\n        };\n    \n        this.handleLoginChange = this.handleLoginChange.bind(this);\n        this.handlePassChange = this.handlePassChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n      }\n    \n      handleLoginChange(event) {\n          console.log(event.target.value)\n        this.setState({\n            login: event.target.value\n        });\n      }\n      handlePassChange(event) {\n        console.log(event.target.value)\n        this.setState({\n            pass:event.target.value\n        });\n    }\n      async handleSubmit(e) {\n        e.preventDefault();  // cancel page reload\n         fetch(\"/api/v1/auth/login?username=\"+this.state.login+\"&password=\"+this.state.pass, { method: 'POST'})\n            .then(x => x.json())\n            .then(authResult => {\n                console.log(authResult);\n                const jwt = authResult.token;\n                console.log(jwt)\n                if (jwt==undefined){\n                  document.getElementById(\"nadpis\").innerText=\"No such user\";\n                }else{\n                  localStorage.setItem(\"jwt\", jwt); \n                  window.location.href = \"/\";\n                }\n                 \n            })\n            .catch((error)=>console.log(error));\n\n        \n        \n      }\n    \n      render() {\n        return (\n            <div id=\"loginForm\">\n            <form class=\"form-signin\" onSubmit={this.handleSubmit} id=\"login-form\">\n                <h1 class=\"h3 mb-3 font-weight-normal\" id=\"nadpis\">Please sign in</h1>\n            \n              <div class=\"input-group mb-3\">\n              <div class=\"input-group-prepend\">\n                <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">login</span>\n              </div>\n              <input type=\"text\" name=\"username\" value={this.state.login} onChange={this.handleLoginChange} placeholder=\"Login\" required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"/>\n            </div>\n            \n            \n            \n              <div class=\"input-group mb-3\">\n              <div class=\"input-group-prepend\">\n                <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">pass</span>\n              </div>\n              <input type=\"password\" name=\"password\"value={this.state.pass} onChange={this.handlePassChange} class=\"form-control\" placeholder=\"Password\" required aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"/>\n            </div>\n            \n              <button class=\"btn btn btn-primary btn-block\" type=\"submit\">Sign in</button>\n              <br/>\n              <h6 class=\"h6 mb-3 font-weight-normal\">don't have account yet?<a href=\"/auth/register\"> sing up</a> </h6>\n            </form>\n            </div>\n        );\n      }\n  }\n  export default LoginForm;","import React from 'react';\n\nexport default function Logout(props) {\n    localStorage.removeItem('jwt');\n    window.location.href = \"/\";\n    return(<div></div>)\n}\n","\nimport React from 'react';\nimport './login.css'\n\nclass RegisterForm extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            login:'',\n            pass:'',\n            pass1:'',\n            fullname:'',\n            file:'',\n            button:false,\n            serverError:false\n            \n        };\n    \n        this.handleLoginChange = this.handleLoginChange.bind(this);\n        this.handlePassChange = this.handlePassChange.bind(this);\n        this.handleFullnameChange = this.handleFullnameChange.bind(this);\n        this.handlePass1Change = this.handlePass1Change.bind(this);\n        this.handleAvaChange = this.handleAvaChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n      }\n      \n      async checkButton(){\n        console.log(\"checking\")\n          if(this.state.login.length>2 && this.state.fullname.length>0&& this.state.pass.length>2 && this.state.pass==this.state.pass1){\n                console.log(\"true\")\n               await this.setState({\n                button: true\n            });\n          }\n            else await this.setState({\n              button: false\n          });\n      }\n\n      async handleLoginChange(event) {\n          console.log(event.target.value)\n        await this.setState({\n            login: event.target.value\n        });\n        this.checkButton()\n      }\n      async handleFullnameChange(event) {\n        console.log(event.target.value)\n      await this.setState({\n          fullname: event.target.value\n      });\n      await this.checkButton()\n    }\n     async handlePassChange(event) {\n        console.log(event.target.value)\n        await this.setState({\n            pass:event.target.value\n        });\n        await this.checkButton()\n    }\n     async handlePass1Change(event) {\n      console.log(event.target.value)\n      await this.setState({\n          pass1:event.target.value\n      });\n      await this.checkButton()\n      \n  }\n    handleAvaChange(e) {\n      console.log(\"changed\")\n      if (document.getElementById(\"inputGroupFile02\").value!=''){\n      let text=document.getElementById(\"inputGroupFile02\").value.replace('C:\\\\fakepath\\\\', \" \");\n      document.getElementById(\"need\").innerText=text\n\n      }else{\n          document.getElementById(\"need\").innerText=\"Choose file\"\n      }\n    }\n      async handleSubmit(e) {\n        e.preventDefault(); \n        const formData = new FormData(e.target);\n        try {\n            const response = await fetch('/api/v1/users/', {\n              method: 'POST',\n              body: formData\n            });\n            if (response.ok)\n              window.location.href = \"/\";\n            const result = await response.json();\n            \n            console.log('Успех:', JSON.stringify(result));\n            if(result.error)\n              if (result.error==\"there is already photo with such name\")\n                await this.setState({\n                  serverError:result.error\n            })\n            else{\n              await this.setState({\n                serverError:\"bad input\"\n          })\n            }\n          } catch (error) {\n            console.error('Ошибка:', error);\n          }\n      }\n    \n      render() {\n        let highText\n        if(this.state.serverError)\n          highText=<p class=\"font-weight-bolder\">{this.state.serverError}</p>\n        else\n          highText=<p class=\"font-weight-bolder\">sign up</p>\n        \n        let button\n        if(this.state.button)\n            button=<button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">sign up</button>\n        else  \n            button=<button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\" disabled>sign up</button>\n        return (\n            <div id=\"registerForm\">\n            <form class=\"form-signin\" onSubmit={this.handleSubmit} enctype=\"multipart/form-data\">\n                    {highText}\n              <div class=\"input-group mb-3\">\n              <div class=\"input-group-prepend\">\n                <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">login</span>\n              </div>\n              <input type=\"text\" name=\"login\" onChange={this.handleLoginChange}placeholder=\"Login\" required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"/>\n            </div>\n            \n              <div class=\"input-group mb-3\">\n                    <div class=\"input-group-prepend\">\n                        <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">fullname</span>\n                    </div>\n                    <input type=\"text\" name=\"fullname\" onChange={this.handleFullnameChange} placeholder=\"fullname\" required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"/>\n                </div>\n            \n            <div class=\"input-group mb-3\">\n                        <div class=\"custom-file\">\n                            <input type=\"file\" id=\"inputGroupFile02\" onChange={this.handleAvaChange} class=\"custom-file-input\" name =\"avaUrl\"accept=\".jpg,.jpeg,.png\" />\n                            <label class=\"custom-file-label butt\" id=\"need\" for=\"inputGroupFile02\">choose ava</label>\n                        </div>\n                    </div>\n            <script src=\"./file.js\"></script>\n                \n              <div class=\"form-label-group\"><input type=\"password\" onChange={this.handlePassChange}id=\"password\" placeholder=\"password\" name=\"password\" required class=\"form-control\"/>\n                <label for=\"password\"><span class=\"font-weight-lighter\"> password</span>\n                </label>\n              </div>\n              <div class=\"form-label-group\"><input type=\"password\" onChange={this.handlePass1Change} class=\"form-control\" id=\"password1\" placeholder=\"password\" name=\"password1\" required />\n                <label for=\"password1\"><span class=\"font-weight-lighter\">confirm password</span>\n                </label>\n              </div>\n              {button}\n              <br/>\n              <h6 class=\"h6 mb-3 font-weight-normal\"><a href=\"/auth/login\"> i already have the account</a> </h6>\n            </form>\n            </div>\n        );\n      }\n  }\n  export default RegisterForm;","import React from 'react';\n\nexport default function NoAuth(props) {\n    return (\n        <div class=\"indexText\" style={{marginLeft:\"0\",minWidth:\"100%\",textAlign:\"center\"}}><div class=\"d-flex justify-content-center align-items-center heigthMan\" id=\"main\">\n        <h1 class=\"mr-3 pr-3 align-top border-right inline-block align-content-center\">401</h1>\n        <div class=\"inline-block align-middle\">\n            <h2 class=\"font-weight-normal lead \" id=\"desc\">auth first</h2>\n        </div>\n            </div></div>\n    );\n}","import React from 'react';\n\nexport default function NotFound(props) {\n    return (\n        <div class=\"indexText\" style={{marginLeft:\"0\",minWidth:\"100%\",textAlign:\"center\"}}>\n        <div class=\"d-flex justify-content-center align-items-center \" id=\"main\">\n    <h1 class=\"mr-3 pr-3 align-top border-right inline-block align-content-center\">404</h1>\n    <div class=\"inline-block align-middle\">\n    \t<h2 class=\"font-weight-normal lead \" id=\"desc\">The page you requested was not found.</h2>\n    </div>\n        </div>\n</div>\n    );\n}","\nimport React  from 'react';\nimport   './photos.css'\nimport {\n    Link\n  } from \"react-router-dom\";\n  import NoAuthErr from '../errorPages/noAuth';\n  import NotFound from '../errorPages/notFound';\nclass Photos extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            page:1,\n            tag:'',\n            pageNum:1,\n            nextPage:false,\n            prevPage:true,\n            listPhotos:[],\n            auth:false,\n            heading:\"current photo list:\",\n            authSetted:false\n        };\n        this.proceedState();\n        this.handleTagChange = this.handleTagChange.bind(this);\n        this.handleNext = this.handleNext.bind(this);\n        this.handlePrev = this.handlePrev.bind(this);\n      }\n      async proceedState(){\n        console.log(\"ok boomer\")\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({\n                auth:false\n            })\n        }\n\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n            fetch(\"/api/v1/photos?searching=\"+this.state.tag+\"&page=\"+this.state.page,reqOptions)\n            .then(async x =>{ \n                if (x.status==401){\n                    this.setState({\n                        authSetted:true,\n                        auth:false\n                    })\n                    throw new Error(\"Whoops!\");\n                }else{\n                    await this.setState({\n                        authSetted:true,\n                        auth:true\n                    })\n                    return x.json()\n                }\n                })\n\n            .then(async (itemsData) => {\n                console.log(\"num ofpages\")\n                console.log(itemsData.pageNumber)\n                await this.setState({pageNum:itemsData.pageNumber})\n                if (parseInt(this.state.page)>1)\n                    await this.setState({prevPage:true});\n                else    \n                    await this.setState({prevPage:false});\n                if(this.state.page<this.state.pageNum)\n                    await this.setState({nextPage:true});\n                else\n                    await this.setState({nextPage:false});\n                console.log(itemsData.displayData)\n                if(itemsData.displayData!=undefined)\n                    this.setState({listPhotos: itemsData.displayData})\n                else\n                this.setState({listPhotos:[],pageNum:1})\n                if(itemsData.displayData==undefined)\n                    this.setState({heading: \"no matches\"})\n                   console.log( this.state.listPhotos)\n            })      \n            .catch(err=>{})\n      }\n      async handleTagChange(event){\n          console.log(\"event\")\n          let text=\"results for \"+event.target.value+\":\"\n          if(event.target.value=='')\n          text=\"current photo list:\"\n          await this.setState({\n            tag:event.target.value,\n            page:1,\n            heading:text\n          })\n          console.log(this.state.tag)\n          await this.proceedState();\n      }\n      async handleNext(event){\n        console.log(\"event\")\n        let page=this.state.page+1\n        await this.setState({\n          page:page\n        })\n        await this.proceedState();\n    }\n    async handlePrev(event){\n        console.log(\"event\")\n        let page=this.state.page-1\n        await this.setState({\n          page:page\n        })\n        await this.proceedState();\n    }\n      render()\n       {\n           if(!this.state.authSetted)\n           return(<div></div>)\n        if(!this.state.auth)\n            return(<NoAuthErr/>)\n            let notF;\n         if(this.state.listPhotos.length==0)\n            notF=<NotFound/>\n          let button1;\n          if (this.state.prevPage)\n            button1=<button onClick={this.handlePrev} id=\"prevButton\"class=\"btn btn-outline-dark\" >prev</button>\n        else    \n            button1=<button onclick=\"prev()\" id=\"prevButton\"class=\"btn btn-outline-dark\" disabled>prev</button>\n            let button2;\n            if (this.state.nextPage)\n            button2=<button onClick={this.handleNext} id=\"prevButton\"class=\"btn btn-outline-dark\" >next</button>\n        else    \n            button2=<button id=\"prevButton\"class=\"btn btn-outline-dark\" disabled>next</button>\n        return (\n            <div>\n            <br/>\n  <div class=\"form-inline mt-2 mt-md-0 marginlelt\">\n    <label for=\"searh\" id=\"heading\" >{this.state.heading}\n    </label>\n      <input onChange={this.handleTagChange}  class=\"form-control mr-sm-2 marginleltmore\" id=\"search\"type=\"text\" placeholder=\"Search\"  name=\"searching\"/>\n    </div>\n    <br/>\n    <br/>\n   <div class=\"album py-4 bg-light\">\n    <div class=\"container\">\n      <div class=\"row\" id=\"parentElement\">\n                   \n      {this.state.listPhotos.map(photo=>(\n\n      <div class=\"col-md-3\" style={{display:\"inline-block\"}}>\n               <div class=\"card mb-3 shadow-sm\">\n                   <svg class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\" role=\"img\" aria-label=\"Placeholder: Thumbnail\">\n                       <image href={photo.url} alt={photo.name} width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" />\n                   </svg>\n                   <div class=\"card-body\">\n                       <div class=\"d-flex justify-content-between align-items-center\">\n                           <div class=\"btn-group\">\n                               <Link to={'/photos/'+photo._id} class=\"btn btn-sm btn-outline-secondary\">View</Link>\n                           </div>\n                           <small class=\"text-muted\">{photo.name}</small>\n                       </div>\n                   </div>\n               </div>\n           </div>\n    \n      ))}\n      {notF}\n          </div>\n\t\t\t  </div>\n\t\t\t</div>\n  <p/>\n  <br/>\n  <div style={{\"text-align\":\"center\"}}>\n    {button1}\n      <span id=\"page\">{this.state.page}</span>/<span id=\"pagenum\">{this.state.pageNum}</span>\n    {button2}\n  </div> \n  </div>\n        );\n      }\n  }\n  export default Photos;","\nimport React from 'react';\nimport './photos.css'\nimport NoAuth from '../errorPages/noAuth'\nclass NewPhoto extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            name: '',\n            pass: '',\n            pass1: '',\n            author: '',\n            file: '',\n            button: false,\n            serverError: false,\n            auth:true,\n            authSetted:false\n        };\n        this.checkAuth()\n        this.handleNameChange = this.handleNameChange.bind(this);\n        this.handlePriceChange = this.handlePriceChange.bind(this);\n        this.handleAuthorChange = this.handleAuthorChange.bind(this);\n        this.handlePhotoChange = this.handlePhotoChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    async checkAuth(){\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({\n                authSetted:true,\n                auth:false\n            })\n        }\n\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        let user=await fetch(\"/api/v1/me/\",reqOptions);\n        if (!user.ok){\n            await this.setState({\n                authSetted:true,\n                auth:false\n            })\n        \n        }\n        else{\n            await this.setState({\n                authSetted:true,\n                auth:true\n            })\n        }\n    }\n\n    async handleNameChange(event) {\n        console.log(event.target.value)\n        await this.setState({\n            name: event.target.value\n        });\n    }\n    async handleAuthorChange(event) {\n        console.log(event.target.value)\n        await this.setState({\n            author: event.target.value\n        });\n    }\n    async handlePriceChange(event) {\n        console.log(event.target.value)\n        await this.setState({\n            price: event.target.value\n        });\n    }\n    handlePhotoChange(e) {\n        console.log(\"changed\")\n        if (document.getElementById(\"inputGroupFile02\").value!=''){\n        let text=document.getElementById(\"inputGroupFile02\").value.replace('C:\\\\fakepath\\\\', \" \");\n        document.getElementById(\"need\").innerText=text\n        }else{\n            document.getElementById(\"need\").innerText=\"Choose file*\"\n        }\n    } \n    async handleSubmit(e) {\n        e.preventDefault();\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({\n                authSetted:true,\n                auth:false\n            })\n        }\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        const formData = new FormData(e.target);\n        try {\n            const response = await fetch('/api/v1/photos/', {\n                method: 'POST',\n                body: formData,\n                headers: { Authorization: `Bearer ${jwt}`, }\n            });\n            if(response.ok){\n                await this.setState({\n                    authSetted:true,\n                    auth:true\n                })\n                this.props.history.push(\"/photos\")\n            }\n            const result = await response.json();\n            console.log('Успех:', JSON.stringify(result));\n            if (result.error && result.error!=undefined){\n                if(result.status=401)\n                    await this.setState({\n                        authSetted:true,\n                        auth:false\n                    })\n                if (result.error == \"there is already photo with such name\")\n                    await this.setState({\n                        serverError: result.error\n                    })\n                else {\n                    console.log(result.error)\n                    await this.setState({\n                        serverError: \"bad input\"\n                    })\n                }\n            }\n        } catch (error) {\n            console.error('Ошибка:', error);\n        }\n    }\n\n    render() {\n        if(!this.state.authSetted)\n            return(<div></div>)\n        if(!this.state.auth)\n            return <NoAuth />\n        let errorText\n        if(this.state.serverError)\n            errorText=<div class=\"errorBox\">{this.state.serverError}</div>\n        return (\n            <div class=\"newPhotoStyle\">\n                <br />\n                <br /><br />\n                <p class=\"font-weight-bolder\">Create new photo</p>\n                {errorText}\n                \n                <form id=\"form\" onSubmit={this.handleSubmit} enctype=\"multipart/form-data\">\n                    <div class=\"form-group\">\n                        <div class=\"input-group mb-3\">\n                            <div class=\"input-group-prepend\">\n                                <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">name*</span>\n                            </div>\n                            <input type=\"text\" name=\"name\" placeholder=\"name\" onChange={this.handleNameChange} required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\" />\n                        </div>\n                    </div>\n                        <div class=\"input-group mb-3\">\n                            <div class=\"input-group-prepend\">\n                                <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">author</span>\n                            </div>\n                            <input type=\"text\" name=\"author\" placeholder=\"author\" onChange={this.handleAuthorChange} class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\" />\n                        </div>\n                        <div class=\"input-group mb-3\">\n                            <div class=\"input-group-prepend\">\n                                <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">price</span>\n                            </div>\n                            <input type=\"number\" id=\"price\" name=\"price\" placeholder=\"price\" onLoadedData={this.handlePriceChange} class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\" />\n                        </div>\n                        <div class=\"input-group mb-3\">\n                            <div class=\"custom-file\">\n                                <input type=\"file\" required class=\"custom-file-input butt\" onChange={this.handlePhotoChange} name=\"url\" accept=\".jpg,.jpeg,.png\" id=\"inputGroupFile02\" />\n                                <label id=\"need\" class=\"custom-file-label butt\"  for=\"inputGroupFile02\">Choose file*</label>\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <div class=\"input-group mb-3\">\n                                <div class=\"input-group-prepend\">\n                                    <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">comment</span>\n                                </div>\n                                <textarea type=\"text\" name=\"description\" placeholder=\"/description\" class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"></textarea>\n                            </div>\n                        </div>\n                        <button class=\"btn btn btn-primary btn-block\" type=\"submit\">post</button>\n            </form>\n                    </div>\n\n\n                    );\n                  }\n              }\n            \n  export default NewPhoto;","\nimport React from 'react';\nimport './albums.css'\nimport NoAuth from '../errorPages/noAuth'\nclass NewAlbum extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            photoNames:[],\n            button: false,\n            serverError: false,\n            auth:false,\n            authSetted:false\n        };\n        this.checkAuth()\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handlePhotoChange = this.handlePhotoChange.bind(this);\n    }\n    async checkAuth(){\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({\n                authSetted:true\n            })\n            return\n        }\n\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`,'Content-Type': 'application/json',\n            'Accept': 'application/json' },\n        };\n        let user=await fetch(\"/api/v1/photonames\",reqOptions);\n        console.log(user)\n        console.log(user.body)\n        console.log(\"its -\")\n        if (user.ok){\n            console.log(\"its ok\")\n            let names= await user.json()\n            console.log(\"its after json\")\n            console.log(names)\n            await this.setState({\n                authSetted:true,\n                auth:true,\n                photoNames:names\n            })\n            console.log(this.state.photos)\n        }else{\n            await this.setState({\n                authSetted:true\n            })\n            console.log(\"wtf\")\n        }\n\n    }\n\n\n    handlePhotoChange(e) {\n        console.log(\"changed\")\n        if (document.getElementById(\"inputGroupFile02\").value!=''){\n        let text=document.getElementById(\"inputGroupFile02\").value.replace('C:\\\\fakepath\\\\', \" \");\n        document.getElementById(\"need\").innerText=text\n        }else{\n            document.getElementById(\"need\").innerText=\"Choose file*\"\n        }\n    } \n    async handleSubmit(e) {\n        e.preventDefault();\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({\n                authSetted:true,\n                auth:false\n            })\n        }\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        const formData = new FormData(e.target);\n        try {\n            let response = await fetch('/api/v1/albums/', {\n                method: 'POST',\n                body: formData,\n                headers: { Authorization: `Bearer ${jwt}`, }\n            });\n            if(response.ok){\n                this.props.history.push(\"/albums\")\n            }\n            const result = await response.json();\n            console.log('Успех:', JSON.stringify(result));\n            if (result.error)\n                if(result.status=401)\n                    await this.setState({\n                        authSetted:true,\n                        auth:false\n                    })\n                if (result.error == \"there is already photo with such name\")\n                    await this.setState({\n                        serverError: result.error\n                    })\n                else {\n                    await this.setState({\n                        serverError: \"bad input\"\n                    })\n                }\n        } catch (error) {\n            console.error('Ошибка:', error);\n        }\n    }\n\n    render() {\n        if(!this.state.authSetted)\n          return(<div></div>)\n        if(!this.state.auth)\n            return <NoAuth />\n        let errorText\n        if(this.state.serverError)\n            errorText=<div class=\"errorBox\">{this.state.serverError}</div>\n        return (\n            <div class=\"newPhotoStyle\">\n                <br />\n                <br /><br />\n                <p class=\"font-weight-bolder\">Create new album</p>\n\n                \n                <form id=\"form\" onSubmit={this.handleSubmit} enctype=\"multipart/form-data\">\n    <div class=\"input-group mb-3\">\n        <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">name</span>\n        </div>\n        <input type=\"text\"  name=\"name\" placeholder=\"name\" required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"/>\n    </div>\n    \n    <p class=\"font-weight-bolder\">season:</p>\n    \n    <div class=\"form-check-inline\">\n      <label class=\"form-check-label\" for=\"radio1\">\n        <input type=\"radio\" class=\"form-check-input\" id=\"radio1\" name=\"season\" value=\"winter\"  />winter\n      </label>\n    </div>\n    <div class=\"form-check-inline\">\n      <label class=\"form-check-label\" for=\"radio2\">\n        <input type=\"radio\" class=\"form-check-input\" id=\"radio2\" name=\"season\" value=\"spring\"/>spring\n      </label>\n    </div>\n    <div class=\"form-check-inline\">\n      <label class=\"form-check-label\" for=\"radio3\">\n        <input type=\"radio\" class=\"form-check-input\" id=\"radio3\" name=\"season\" value=\"summer\"/>summer\n      </label>\n    </div>\n    <div class=\"form-check-inline\">\n      <label class=\"form-check-label\" for=\"radio4\">\n        <input type=\"radio\" class=\"form-check-input\" id=\"radio4\" name=\"season\" value=\"autumn\"/>autumn\n      </label>\n    </div>\n    <br/>\n<br/>\n    <p class=\"font-weight-bolder\">choose photos:</p>\n\n    {this.state.photoNames.map(photo=>{\n        console.log(\"yaya\")\n        return(\n            <div class=\"form-check-inline\">\n                <label class=\"form-check-label\">\n                    <input type=\"checkbox\" class=\"form-check-input\" name={photo.id}/>{photo.name}\n                </label>\n            </div>\n    )})}\n    <br/>\n    <br/>\n        <div class=\"input-group mb-3\">\n            <div class=\"custom-file\">\n                <input type=\"file\" class=\"custom-file-input\" name =\"previewUrl\" accept=\".jpg,.jpeg,.png\" id=\"inputGroupFile02\" />\n                <label class=\"custom-file-label\" for=\"inputGroupFile02\">Choose file</label>\n            </div>\n        </div>\n        \n    \n    <div class=\"input-group mb-3\">\n        <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">comment</span>\n        </div>\n        <textarea type=\"text\"  name=\"description\" placeholder=\"/description\" required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"></textarea>\n    </div>\n    <button class=\"btn btn btn-primary btn-block\" type=\"submit\">post</button>\n  </form>\n                    </div>\n\n\n                    );\n                  }\n              }\n            \n  export default NewAlbum;","\nimport React from 'react';\nimport   './photos.css'\nimport {\n    Link\n  } from \"react-router-dom\";\n  import NoAuthErr from '../errorPages/noAuth';\nclass Photos extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            page:1,\n            tag:'',\n            pageNum:1,\n            nextPage:false,\n            prevPage:true,\n            listPhotos:[],\n            auth:false,\n            authSetted:false\n        };\n        this.proceedState();\n        this.handleTagChange = this.handleTagChange.bind(this);\n        this.handleNext = this.handleNext.bind(this);\n        this.handlePrev = this.handlePrev.bind(this);\n      }\n      async proceedState(){\n        console.log(\"ok boomer\")\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            \n            return;\n        }   \n\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        let user=await fetch(\"/api/v1/me/\",reqOptions);\n        if (user.ok){\n            user=await user.json();\n            await this.setState({\n                authSetted:true,\n                auth:true\n            })\n        }\n        else{\n            await this.setState({\n                authSetted:true,\n                auth:false\n            })\n        }\n        Promise.all([\n            fetch(\"/api/v1/photos?searching=\"+this.state.tag+\"&owner=\"+user.id+\"&page=\"+this.state.page,reqOptions).then(x => x.json()),\n        ])\n            .then(async ([itemsData]) => {\n                console.log(\"num ofpages\")\n                console.log(itemsData.pageNumber)\n                await this.setState({pageNum:itemsData.pageNumber})\n                if (parseInt(this.state.page)>1)\n                    await this.setState({prevPage:true});\n                else    \n                    await this.setState({prevPage:false});\n                if(this.state.page<this.state.pageNum)\n                    await this.setState({nextPage:true});\n                else\n                    await this.setState({nextPage:false});\n                console.log(itemsData.displayData)\n                if(itemsData.displayData!=undefined)\n                    this.setState({listPhotos: itemsData.displayData})\n                else\n                this.setState({listPhotos:[],pageNum:1})\n\n                   console.log( this.state.listPhotos)\n            })      \n      }\n      async handleTagChange(event){\n          console.log(\"event\")\n          await this.setState({\n            tag:event.target.value,\n            page:1\n          })\n          console.log(this.state.tag)\n          await this.proceedState();\n      }\n      async handleNext(event){\n        console.log(\"event\")\n        let page=this.state.page+1\n        await this.setState({\n          page:page\n        })\n        await this.proceedState();\n    }\n    async handlePrev(event){\n        console.log(\"event\")\n        let page=this.state.page-1\n        await this.setState({\n          page:page\n        })\n        await this.proceedState();\n    }\n      render() {\n          if(!this.state.authSetted)\n            return(<div></div>)\n        if(!this.state.auth)\n            return(<NoAuthErr/>)\n          let button1;\n          if (this.state.prevPage)\n            button1=<button onClick={this.handlePrev} id=\"prevButton\"class=\"btn btn-outline-dark\" >prev</button>\n        else    \n            button1=<button onclick=\"prev()\" id=\"prevButton\"class=\"btn btn-outline-dark\" disabled>prev</button>\n            let button2;\n            if (this.state.nextPage)\n            button2=<button onClick={this.handleNext} id=\"prevButton\"class=\"btn btn-outline-dark\" >next</button>\n        else    \n            button2=<button id=\"prevButton\"class=\"btn btn-outline-dark\" disabled>next</button>\n        return (\n            <div>\n            <br/>\n  <div class=\"form-inline mt-2 mt-md-0 marginlelt\">\n    <label for=\"searh\" id=\"heading\" >current photo list:\n    </label>\n      <input onChange={this.handleTagChange}  class=\"form-control mr-sm-2 marginleltmore\" id=\"search\"type=\"text\" placeholder=\"Search\"  name=\"searching\"/>\n    </div>\n    <br/>\n    <br/>\n   <div class=\"album py-4 bg-light\">\n    <div class=\"container\">\n      <div class=\"row\" id=\"parentElement\">\n                   \n      {this.state.listPhotos.map(photo=>(\n\n      <div class=\"col-md-3\" style={{display:\"inline-block\"}}>\n               <div class=\"card mb-3 shadow-sm\">\n                   <svg class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\" role=\"img\" aria-label=\"Placeholder: Thumbnail\">\n                       <image href={photo.url} alt={photo.name} width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" />\n                   </svg>\n                   <div class=\"card-body\">\n                       <div class=\"d-flex justify-content-between align-items-center\">\n                           <div class=\"btn-group\">\n                               <Link to={'/photos/'+photo._id} class=\"btn btn-sm btn-outline-secondary\">View</Link>\n                           </div>\n                           <small class=\"text-muted\">{photo.name}</small>\n                       </div>\n                   </div>\n               </div>\n           </div>\n    \n      ))}\n          </div>\n\t\t\t  </div>\n\t\t\t</div>\n  <p/>\n  <br/>\n  <div style={{\"text-align\":\"center\"}}>\n    {button1}\n      <span id=\"page\">{this.state.page}</span>/<span id=\"pagenum\">{this.state.pageNum}</span>\n    {button2}\n  </div> \n  </div>\n        );\n      }\n  }\n  export default Photos;","\nimport React  from 'react';\nimport   './photos.css'\nimport {\n    Link\n  } from \"react-router-dom\";\n  import Modal from 'react-bootstrap/Modal'\n  import Button from 'react-bootstrap/Button'\n  import NoAuthErr from '../errorPages/noAuth';\n  import NotFound from '../errorPages/notFound';\nclass Photo extends React.Component {\n\n        constructor(props) {\n        super(props);\n        this.state = {\n            photo:{},\n            user:{},\n            editButton:false,\n            deleteButton:false,\n            buyButton:false,\n            errorStatus:200,\n            modalShow:false,\n            authSetted:false\n        };\n        this.handleBuy = this.handleBuy.bind(this);\n        this.handleDelete = this.handleDelete.bind(this);\n        this.getPhoto(props.match.params.id)\n      }\n      async handleBuy(){\n        console.log(\"bought\")\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({\n                errorStatus:\"401\"\n            })\n        }\n        const reqOptions = {\n            method:\"PUT\",\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        \n        let user=await fetch(\"/api/v1/photos/\"+this.props.match.params.id+\"?owner=\"+this.state.user.id,reqOptions);\n        await this.setState({\n          buyButton:false,\n          editButton:true,\n          deleteButton:true\n        })\n      }\n      async getPhoto(id){\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({\n              authSetted:true,\n                errorStatus:\"401\"\n            })\n        }\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        \n        let user=await fetch(\"/api/v1/me/\",reqOptions);\n        if (user.ok){\n            user=await user.json();\n            console.log(\"user\")\n            console.log(user)\n            await this.setState({authSetted:true,user:user})\n        }else{\n            this.setState({\n              authSetted:true,\n                errorStatus:\"401\"\n            })\n        }\n        let response= await fetch(\"/api/v1/photos/\"+id,reqOptions);\n        if (response.ok){\n            response=await response.json();\n            console.log(response)\n            let options = {\n              era: 'short',\n              year: 'numeric',\n              month: 'long',\n              day: 'numeric',\n              weekday: 'long',\n              timezone: 'UTC',\n              hour: 'numeric',\n              minute: 'numeric',\n              second: 'numeric'\n            };\n            let date= Date.parse(response.date)\n            date=new Date(date)\n            response.date=date.toLocaleString(\"en-US\",options)\n            await this.setState({photo:response})\n        }\n        else \n            if(response.status==404){\n                console.log(\"404\")\n                await this.setState({\n                    errorStatus:404\n                })\n                return\n            }else{\n                if(response.status==401){\n                    console.log(\"401\")\n                    await this.setState({\n                      authSetted:true,\n                        errorStatus:401\n                    })\n                    return\n                }\n            }\n\n\n        \n        let condition=false\n        if(this.state.photo)\n            if(this.state.photo.owner)\n                condition=(this.state.photo.owner.toString()==this.state.user.id.toString() )||this.state.user.role\n        if(this.state.photo.owner.toString()!=this.state.user.id.toString())\n            await this.setState({buyButton:true})\n        if(this.state.user.role)\n            condition=true\n        await this.setState({\n            editButton:condition,\n            deleteButton:condition\n        })\n      }\n\n      async handleDelete(event){\n        console.log(\"event\")\n    }\n    render() \n      {\n        if(!this.state.authSetted)\n            return(<div></div>)\n        console.log(this.state.errorStatus)\n          if(this.state.errorStatus==401)\n            return(<NoAuthErr/>)\n            if(this.state.errorStatus==404)\n            return(<NotFound/>)\n          let buttons;\n        if (this.state.editButton){\n            buttons=<div class=\"padik\"><Link to={'/editphoto/'+this.state.photo._id}> <button class=\"btn btn-outline-dark inlineBlock\"  type=\"submit\" value=\"Delete\">Edit</button></Link>\n            <button style={{marginLeft:\".4em\"}} class=\"btn btn-outline-dark inlineBlock\" onClick={() => this.setState({modalShow:true})}  value=\"Delete\">Delete</button></div>\n        }\n        let buyButton\n          if(this.state.buyButton)\n        buyButton=<button class=\"btn btn-outline-dark inlineBlock\" onClick={this.handleBuy}  value=\"Buy\">Buy</button>\n        return (\n            \n            <div class=\"photoContainer\">\n        <div class=\"photo\"><img src={this.state.photo.url} class=\"img-thumbnail photo1 \"/></div>\n        <div class=\"photoInfo\">\n            Name: {this.state.photo.name}\n            <p>Author: {this.state.photo.author}</p>\n            <p>price :{this.state.photo.price} $</p>\n            {/* <p>Owner: {this.state.photo.owner}</p> */}\n            <p>Date: {this.state.photo.date}</p>\n             {buttons} {buyButton}\n         </div>\n         <MyVerticallyCenteredModal\n        show={this.state.modalShow}\n        onHide={() => this.setState({modalShow:false})}\n        id={this.props.match.params.id}\n        history={this.props.history}\n      />\n\n     </div>\n        );\n      }}\n  \n  export default Photo;\n\n  function MyVerticallyCenteredModal(props) {\n      console.log(props)\n      let myHandler=(e)=> {\n          console.log(\"delete\");\n          const jwt = localStorage.getItem('jwt');\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n            method:'DELETE'\n        };\n        \n        fetch(\"/api/v1/photos/\"+props.id,reqOptions)\n            .then(response=>{\n                props.history.push(\"/photos\")\n                console.log(response.json()) \n            })\n\n        \n      }\n    return (\n      <Modal\n        {...props}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n          Confirm deletion\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          \n          <p>\n            you won't have access to this photo any more\n          </p>\n        </Modal.Body>\n        <Modal.Footer>\n            <Button onClick={myHandler}>Delete</Button>\n          <Button onClick={props.onHide}>Close</Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }","\nimport React  from 'react';\nimport   './albums.css'\nimport {\n    Link\n  } from \"react-router-dom\";\n  import Modal from 'react-bootstrap/Modal'\n  import Button from 'react-bootstrap/Button'\n  import NoAuthErr from '../errorPages/noAuth';\n  import NotFound from '../errorPages/notFound';\nclass Album extends React.Component {\n\n        constructor(props) {\n        super(props);\n        this.state = {\n            album:{},\n            displayPhotos:[],\n            page:1,\n            user:{},\n            editButton:false,\n            deleteButton:false,\n            next:false,\n            prev:false,\n            errorStatus:200,\n            modalShow:false,\n            authSetted:false\n        };\n        this.prevPage = this.prevPage.bind(this);\n        this.nextPage = this.nextPage.bind(this);\n        this.handleDelete = this.handleDelete.bind(this);\n        this.getAlbum(props.match.params.id)\n      }\n            \n      async changePhotos(){\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({\n                errorStatus:\"401\",\n                authSetted:true\n            })\n        }\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        let photos=[]\n        for(let i=this.state.page-1;i<this.state.page+3 && i<this.state.album.photos.length;i++){\n            let photo=await fetch(\"/api/v1/photos/\"+this.state.album.photos[i],reqOptions);\n            photo=await photo.json();\n            console.log(photo)\n            photos.push(photo)\n        }\n        if (this.state.page>1)\n            await this.setState({prev:true})\n        else\n            await this.setState({prev:false})\n        if(this.state.page<this.state.album.photos.length-3)\n            await this.setState({next:true})\n        else\n            await this.setState({next:false})\n        await this.setState({displayPhotos:photos})\n\n      }\n      async prevPage(){\n          await this.setState({page:this.state.page-1})\n          await this.changePhotos()\n      }\n      async nextPage(){\n        await this.setState({page:this.state.page+1})\n        await this.changePhotos()\n    }\n\n      async getAlbum(id){\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({\n                errorStatus:\"401\"\n            })\n        }\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        \n        let user=await fetch(\"/api/v1/me/\",reqOptions);\n        if (user.ok){\n            user=await user.json();\n            console.log(\"user\")\n            console.log(user)\n            await this.setState({user:user})\n        }else{\n            this.setState({\n                errorStatus:\"401\"\n            })\n        }\n        let response= await fetch(\"/api/v1/albums/\"+id,reqOptions);\n        if (response.ok){\n            response=await response.json();\n            console.log(response)\n            await this.setState({album:response,authSetted:true})\n        }\n        else \n            if(response.status==404){\n                console.log(\"404\")\n                await this.setState({\n                    errorStatus:404\n                })\n                return\n            }else{\n                if(response.status==401){\n                    console.log(\"401\")\n                    await this.setState({\n                        errorStatus:401,\n                        authSetted:true\n                    })\n                    return\n                }\n                else{\n                    await this.setState({\n                        authSetted:true\n                    })\n                }\n            }\n        await this.changePhotos();\n        let condition=false\n        if(this.state.album)\n            if(this.state.album.owner)\n                condition=(this.state.album.owner.toString()==this.state.user.id.toString() )||this.state.user.role\n        if(this.state.user.role)\n            condition=true\n        await this.setState({\n            editButton:condition,\n            deleteButton:condition\n        })\n      }\n\n      async handleDelete(event){\n        console.log(\"event\")\n    }\n    render() \n      {\n          if(!this.state.authSetted)\n          return(<div></div>)\n        console.log(this.state.errorStatus)\n          if(this.state.errorStatus==401)\n            return(<NoAuthErr/>)\n            if(this.state.errorStatus==404)\n            return(<NotFound/>)\n          let buttons;\n        if (this.state.editButton){\n            buttons=<button class=\"btn btn-outline-dark inlineBlock\" onClick={() => this.setState({modalShow:true})}  value=\"Delete\">Delete</button>\n        }\n        let prevButton\n        if (this.state.prev){\n            prevButton=<button class=\"btn btn-outline-dark inlineBlock vC\" onClick={this.prevPage} value=\"prev\"> ⇐ </button>\n        }\n        let nextButton\n        if (this.state.next){\n            nextButton=<button class=\"btn btn-outline-dark inlineBlock vC\" onClick={this.nextPage} value=\"next\">⇒ </button>\n        }\n\n        return (\n            <div >\n                <div class=\"jumbotron\" style={{minHeight:\"300px\"}}>\n\n            <div class=\"albumContainer\">\n        <div class=\"photo\"><img src={this.state.album.previewUrl} class=\"img-thumbnail album1 \"/></div>\n        <div class=\"photoInfo\">\n            Name: {this.state.album.name}\n            <p>Author: {this.state.album.author}</p>\n             {buttons}\n         </div>\n         <MyVerticallyCenteredModal\n        show={this.state.modalShow}\n        onHide={() => this.setState({modalShow:false})}\n        id={this.props.match.params.id}\n        history={this.props.history}\n      />\n            </div>\n            </div>\n            <div class=\"row\" style={{margin:\"0\"}}>\n        <div class=\"col-md-2\">{prevButton}</div>\n\n    {this.state.displayPhotos.map(album => {\nif (album != null) {\n    console.log(\"album\")\n    console.log(album)\n    return (\n\n        <div class=\"col-md-2\" style={{ display: \"inline-block\" }}>\n            <div class=\"card mb-3 shadow-sm\">\n                <svg class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\" role=\"img\" aria-label=\"Placeholder: Thumbnail\">\n                    <image href={album.url} alt={album.name} width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" />\n                </svg>\n                <div class=\"card-body\">\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                        <div class=\"btn-group\">\n                            <Link to={'/photos/' + album._id} class=\"btn btn-sm btn-outline-secondary\">View</Link>\n                        </div>\n                        <small class=\"text-muted\">{album.name}</small>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    )\n} else\n    return (<div class=\"chetv\"></div>)\n})}\n<div class=\"col-md-2\">{nextButton}</div>\n            </div>\n     </div>\n        );\n      }}\n  \n  export default Album;\n\n  function MyVerticallyCenteredModal(props) {\n      console.log(props)\n      let myHandler=(e)=> {\n          console.log(\"delete\");\n          const jwt = localStorage.getItem('jwt');\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n            method:'DELETE'\n        };\n        \n        fetch(\"/api/v1/albums/\"+props.id,reqOptions)\n            .then(response=>{\n                props.history.push(\"/albums\")\n                console.log(response.json()) \n            })\n\n        \n      }\n    return (\n      <Modal\n        {...props}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n          Confirm deletion\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          \n          <p>\n            you won't have access to this album any more\n          </p>\n        </Modal.Body>\n        <Modal.Footer>\n            <Button onClick={myHandler}>Delete</Button>\n          <Button onClick={props.onHide}>Close</Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }","\nimport React from 'react';\nimport './photos.css'\nimport NoAuthErr from '../errorPages/noAuth';\nimport NotFound from '../errorPages/notFound';\nclass Photo extends React.Component {\n\n    constructor(props) {\n        super(props);\n        console.log(props.match.params.id);\n        this.getPhoto(props.match.params.id)\n        this.state = {\n            photo: {},\n            user: {},\n            error: false,\n            can: false,\n            serverError:false,\n            auth:true,\n            authSetted:false,\n            errorStatus:200\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handlePriceInput=this.handlePriceInput.bind(this)\n        this.handleNameInput=this.handleNameInput.bind(this)\n        this.handlePhotoChange = this.handlePhotoChange.bind(this);\n        this.handleAuthorInput=this.handleAuthorInput.bind(this)\n    }\n    async handlePriceInput(e){\n        let photo=this.state.photo\n        photo.price=e.target.value\n        await this.setState({ photo:photo  })\n    }\n    async handleSubmit(e){\n        e.preventDefault(); \n        const formData = new FormData(e.target)\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            alert(\"JWT is missing. Log in first\");\n            return;\n        }\n        try {\n            const response = await fetch('/api/v1/photos/'+this.props.match.params.id, {\n              method: 'PUT',\n              body: formData,\n              headers: { Authorization: `Bearer ${jwt}`, },\n            });\n            const result = await response.json();\n            console.log('response:', JSON.stringify(result));\n            if (result.error)\n                if(result.error==\"there is already photo with such name\")\n                    this.setState({serverError:result.error})\n                else {\n                    this.setState({serverError:\"bad input\"})\n                }\n            else(this.props.history.push(\"/photos/\"+this.props.match.params.id))\n          } catch (error) {\n\n          }\n    }\n    async handleNameInput(e){\n        let photo=this.state.photo\n        photo.name=e.target.value\n        await this.setState({ photo:photo  })\n    }\n    async handleAuthorInput(e){\n        let photo=this.state.photo\n        photo.author=e.target.value\n        await this.setState({ photo:photo  })\n    }\n    handlePhotoChange(e) {\n        console.log(\"changed\")\n        if (document.getElementById(\"inputGroupFile02\").value!=''){\n        let text=document.getElementById(\"inputGroupFile02\").value.replace('C:\\\\fakepath\\\\', \" \");\n        document.getElementById(\"need\").innerText=text\n\n        }else{\n            document.getElementById(\"need\").innerText=\"Choose file\"\n        }\n    } \n    async getPhoto(id) {\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            alert(\"JWT is missing. Log in first\");\n            await this.setState({authSetted:true,auth:false})\n            return;\n        }\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n\n        let user = await fetch(\"/api/v1/me/\", reqOptions);\n        if (user.ok) {\n            await this.setState({authSetted:true,auth:true})\n            user = await user.json();\n            console.log(\"user\")\n            console.log(user)\n            await this.setState({ user: user })\n        } else {\n            await this.setState({authSetted:true,auth:false})\n            await this.setState({ error: \"not authorized\",errorStatus:401 })\n            return\n        }\n        let response = await fetch(\"/api/v1/photos/\" + id, reqOptions);\n        if (response.ok) {\n            response = await response.json();\n            console.log(response)\n            await this.setState({ photo: response })\n        } else {\n            \n            console.log(\"hmm\")\n            await this.setState({ error:\"no such photo\",errorStatus:404 })\n            return;\n        }\n\n        let condition = false\n        if (this.state.photo)\n            if (this.state.photo.owner)\n                condition = (this.state.photo.owner.toString() == this.state.user.id.toString()) \n        if(this.state.user.role)\n            condition=true\n        await this.setState({\n            can: condition\n        })\n    }\n\n    // async handleDelete(event) {\n    //     console.log(\"event\")\n\n    // }\n\nrender()\n{\n    if(!this.state.authSetted)\n            return(<div></div>)\n    let error\n    if(this.state.errorStatus==401)\n            return(<NoAuthErr/>)\n    if(this.state.errorStatus==404)\n            return(<NotFound/>)\n    if (!this.state.can)\n        error = \"you don't have rights to edit this photo\"\n    if (this.state.error)\n        error = this.state.error\n    \n    let text\n    if (error)\n        text = <div class=\"errorBox\">{error}</div>\n    else {\n        text = <div class=\"photoContainer\">\n            <div class=\"new\"><img src={this.state.photo.url} class=\"img-thumbnail photo1\"/></div>\n                <div class=\"photoInfo\">\n                    {this.state.serverError}\n                    <form onSubmit={this.handleSubmit} enctype=\"multipart/form-data\">\n                        <div class=\"input-group mb-3\">\n                            <div class=\"input-group-prepend\">\n                                <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">name</span>\n                            </div>\n                            <input type=\"text\" onChange={this.handleNameInput} value={this.state.photo.name} name=\"name\" placeholder=\"name\" required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"/>\n                        </div>\n                            <div class=\"input-group mb-3\">\n                                <div class=\"input-group-prepend\">\n                                    <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">author</span>\n                                </div>\n                                <input type=\"text\" onChange={this.handleAuthorInput} value={this.state.photo.author} name=\"author\" placeholder=\"author\" required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"/>\n             </div>\n                                <div class=\"input-group mb-3\">\n                                    <div class=\"input-group-prepend\">\n                                        <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">price</span>\n                                    </div>\n                                    <input type=\"number\" id=\"price\" onChange={this.handlePriceInput} name=\"price\" value ={this.state.photo.price} placeholder=\"price\" required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"/>\n             </div>\n                                    <div class=\"input-group mb-3\">\n                                        <div class=\"custom-file\">\n                                            <input type=\"file\" class=\"custom-file-input\" name=\"url\" onChange={this.handlePhotoChange} accept=\".jpg,.jpeg,.png\" id=\"inputGroupFile02\" />\n                                            <label class=\"custom-file-label butt\" id=\"need\" for=\"inputGroupFile02\">Choose file</label>\n                                        </div>\n                                    </div>\n                                    <button class=\"btn btn btn-primary btn-block\" type=\"submit\">save changes</button>\n             </form>\n                            </div>\n                        </div>\n                        \n                        }\n                        return (\n                            <div>\n                            {text}\n                            </div>\n                        );\n                      }}\n                  \n  export default Photo;","\nimport React, { useState, useEffect } from 'react';\nimport './albums.css'\nimport {\n    Link\n} from \"react-router-dom\";\nimport NoAuth from '../errorPages/noAuth';\nclass Albums extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            page: 1,\n            tag: '',\n            pageNum: 1,\n            nextPage: false,\n            prevPage: true,\n            listAlbums: [],\n            season:\"any\",\n            auth:false,\n            authSetted:false\n        };\n        this.proceedState();\n        this.radiochange=this.radiochange.bind(this);\n        this.handleTagChange = this.handleTagChange.bind(this);\n        this.handleNext = this.handleNext.bind(this);\n        this.handlePrev = this.handlePrev.bind(this);\n    }\n\n    async radiochange(e){\n        console.log(e.target.value)\n        await this.setState({\n            page:1,\n            season:e.target.value\n        })\n        await this.proceedState()\n    }\n\n    async proceedState() {\n        console.log(\"ok boomer\")\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            this.setState({\n                authSetted:true,\n                auth:false\n            })\n        }\n        let text=\"\"\n        if(this.state.season!=\"any\")\n            text=\"&season=\"+this.state.season\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        Promise.all([\n            fetch(\"/api/v1/albums?searching=\" + this.state.tag + \"&page=\" + this.state.page+text, reqOptions).then(x => x.json()),\n            fetch(\"/api/v1/me\",reqOptions)\n        ])\n            .then(async ([itemsData,me]) => {\n                if (me.ok)\n                this.setState({authSetted:true,auth:true})\n                else    \n                this.setState({authSetted:true,auth:false})\n                console.log(\"num ofpages\")\n                console.log(itemsData.pageNumber)\n                await this.setState({ pageNum: itemsData.pageNumber })\n                if (parseInt(this.state.page) > 1)\n                    await this.setState({ prevPage: true });\n                else\n                    await this.setState({ prevPage: false });\n                if (this.state.page < this.state.pageNum)\n                    await this.setState({ nextPage: true });\n                else\n                    await this.setState({ nextPage: false });\n                console.log(itemsData.displayData)\n                if (itemsData.displayData != undefined)\n                    this.setState({ listAlbums: itemsData.displayData })\n                else\n                    this.setState({ listAlbums: [], pageNum: 1 })\n\n                console.log(this.state.listAlbums)\n            })\n    }\n    async handleTagChange(event) {\n        console.log(\"event\")\n        await this.setState({\n            tag: event.target.value,\n            page: 1\n        })\n        console.log(this.state.tag)\n        await this.proceedState();\n    }\n    async handleNext(event) {\n        console.log(\"event\")\n        let page = this.state.page + 1\n        await this.setState({\n            page: page\n        })\n        await this.proceedState();\n    }\n    async handlePrev(event) {\n        console.log(\"event\")\n        let page = this.state.page - 1\n        await this.setState({\n            page: page\n        })\n        await this.proceedState();\n    }\n    render(\n\n    ) {\n        if(!this.state.authSetted){\n            return (<div></div>)\n        }\n        if(!this.state.auth){\n            return (<NoAuth/>)\n        }\n        let button1;\n\n            while (this.state.listAlbums.length < 3) {\n                let albums = this.state.listAlbums\n                albums.push(null)\n            }\n        if (this.state.listAlbums.length != 0) {\n            if (this.state.prevPage)\n                button1 = <button onClick={this.handlePrev} id=\"prevButton\" class=\"btn btn-outline-dark\" >prev</button>\n            else\n                button1 = <button onclick=\"prev()\" id=\"prevButton\" class=\"btn btn-outline-dark\" disabled>prev</button>\n        }\n        let button2;\n        if (this.state.listAlbums.length != 0) {\n            if (this.state.nextPage)\n                button2 = <button onClick={this.handleNext} id=\"prevButton\" class=\"btn btn-outline-dark\" >next</button>\n            else\n                button2 = <button id=\"prevButton\" class=\"btn btn-outline-dark\" disabled>next</button>\n        }\n        return (\n            <div>\n                <br />\n                <div class=\"form-inline mt-2 mt-md-0 marginlelt\">\n                    <label for=\"searh\" id=\"heading\" >current album list:\n    </label>\n                    <input onChange={this.handleTagChange} class=\"form-control mr-sm-2 marginleltmore\" id=\"search\" type=\"text\" placeholder=\"Search\" name=\"searching\" />\n                </div>\n                <br />\n                <br />\n                <div class=\"album py-4 bg-light\">\n                    <div class=\"container\">\n                        <div class=\"row\" id=\"parentElement\">\n\n                            {this.state.listAlbums.map(album => {\n\n                                if (album != null) {\n                                    console.log(\"album\")\n                                    console.log(album)\n                                    return (\n\n                                        <div class=\"col-md-3\" style={{ display: \"inline-block\" }}>\n                                            <div class=\"card mb-3 shadow-sm\">\n                                                <svg class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\" role=\"img\" aria-label=\"Placeholder: Thumbnail\">\n                                                    <image href={album.previewUrl} alt={album.name} width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" />\n                                                </svg>\n                                                <div class=\"card-body\">\n                                                    <div class=\"d-flex justify-content-between align-items-center\">\n                                                        <div class=\"btn-group\">\n                                                            <Link to={'/albums/' + album._id} class=\"btn btn-sm btn-outline-secondary\">View</Link>\n                                                        </div>\n                                                        <small class=\"text-muted\">{album.name}</small>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                    )\n                                } else\n                                    return (<div class=\"chetv\"></div>)\n                            })}\n                             <div class=\"col-md-3 rightFloat\">\n                                 <div class=\"marginR\">\n                                season:\n                                <fieldset class=\"form-group\" onChange={this.radiochange}>\n    <div class=\"row\">\n      <div class=\"col-sm-10\">\n        <div class=\"form-check\" >\n          <input class=\"form-check-input\" type=\"radio\" name=\"gridRadios\" id=\"gridRadios1\" value=\"any\" />\n          <label class=\"form-check-label\" for=\"gridRadios1\">\n            any\n          </label>\n        </div>\n        <div class=\"form-check\">\n          <input class=\"form-check-input\" type=\"radio\" name=\"gridRadios\" id=\"gridRadios2\" value=\"winter\" />\n          <label class=\"form-check-label\" for=\"gridRadios2\">\n            winter\n          </label>\n        </div>\n        <div class=\"form-check\">\n          <input class=\"form-check-input\" type=\"radio\" name=\"gridRadios\" id=\"gridRadios2\" value=\"spring\" />\n          <label class=\"form-check-label\" for=\"gridRadios2\">\n            spring\n          </label>\n        </div>\n        <div class=\"form-check\">\n          <input class=\"form-check-input\" type=\"radio\" name=\"gridRadios\" id=\"gridRadios2\" value=\"summer\" />\n          <label class=\"form-check-label\" for=\"gridRadios2\">\n            summer\n          </label>\n        </div>\n        <div class=\"form-check\">\n          <input class=\"form-check-input\" type=\"radio\" name=\"gridRadios\" id=\"gridRadios2\" value=\"fall\" />\n          <label class=\"form-check-label\" for=\"gridRadios2\">\n            fall\n          </label>\n        </div>\n      </div>\n    </div>\n  </fieldset>\n           \n                            </div></div>\n                            \n                            </div></div></div>\n                            <p />\n                            <br />\n                            <div style={{ \"text-align\": \"center\" }}>\n                                {button1}\n                                <span id=\"page\">{this.state.page}</span>/<span id=\"pagenum\">{this.state.pageNum}</span>\n                                {button2}\n                            </div>\n                        </div>\n                        );\n                      }\n                  }\n  export default Albums;","import React from 'react';\n\nexport default function NoAdm(props) {\n    return (\n        <div class=\"indexText\" style={{marginLeft:\"0\",minWidth:\"100%\",textAlign:\"center\"}}><div class=\"d-flex justify-content-center align-items-center heigthMan\" id=\"main\">\n        <h1 class=\"mr-3 pr-3 align-top border-right inline-block align-content-center\">403</h1>\n        <div class=\"inline-block align-middle\">\n            <h2 class=\"font-weight-normal lead \" id=\"desc\">you don't have rights to visit this page</h2>\n        </div>\n            </div></div>\n    );\n}","\nimport React, { useState, useEffect } from 'react';\nimport   './users.css'\nimport NoAuth from '../errorPages/noAuth'\nimport NoAdmin from '../errorPages/noAdmin'\nimport {\n    Link\n  } from \"react-router-dom\";\n  let options = {\n    era: 'short',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    weekday: 'long',\n    timezone: 'UTC',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric'\n  };\nclass Users extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            page:1,\n            tag:'',\n            pageNum:1,\n            nextPage:false,\n            prevPage:true,\n            listUsers:[],\n            authSetted:false,\n            auth:false,\n            adm:false\n        };\n        this.proceedState();\n        this.handleTagChange = this.handleTagChange.bind(this);\n        this.handleNext = this.handleNext.bind(this);\n        this.handlePrev = this.handlePrev.bind(this);\n      }\n      async proceedState(){\n        console.log(\"ok boomer\")\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({\n                authSetted:true,\n                auth:false\n            })\n            return\n        }\n\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        Promise.all([\n            fetch(\"/api/v1/users?searching=\"+this.state.tag+\"&page=\"+this.state.page,reqOptions),\n            fetch(\"/api/v1/me/\",reqOptions)\n        ])\n            .then(async ([itemsData,me]) => {\n                itemsData=await itemsData.json();\n                if (me.ok){\n                    await this.setState({authSetted:true,auth:true})\n                }else{\n                    await this.setState({authSetted:true,auth:false})\n                    return\n                }\n                let tmpUser=await me.json()\n                console.log(\"tmpUser\")\n                console.log(tmpUser)\n                if(tmpUser.role==1)\n                    await this.setState({adm:true})\n                console.log(\"num ofpages\")\n                console.log(itemsData.pageNumber)\n                await this.setState({pageNum:itemsData.pageNumber})\n                if (parseInt(this.state.page)>1)\n                    await this.setState({prevPage:true});\n                else    \n                    await this.setState({prevPage:false});\n                if(this.state.page<this.state.pageNum)\n                    await this.setState({nextPage:true});\n                else\n                    await this.setState({nextPage:false});\n                console.log(itemsData.displayData)\n                let options = {\n                    era: 'short',\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric',\n                    weekday: 'long',\n                    timezone: 'UTC',\n                    hour: 'numeric',\n                    minute: 'numeric',\n                    second: 'numeric'\n                  };\n                if(itemsData.displayData!=undefined){\n                    for(let i=0;i<itemsData.displayData.length;i++)\n                        if(itemsData.displayData[i]){\n                            itemsData.displayData[i].num=3*this.state.page-2+i\n                            let date= Date.parse(itemsData.displayData[i].registeredAt)\n                            date=new Date(date)\n                            itemsData.displayData[i].registeredAt=date.toLocaleString(\"en-US\",options)\n                        }\n                    this.setState({listUsers: itemsData.displayData})\n                }\n                else\n                this.setState({listUsers:[],pageNum:1})\n\n                   console.log( this.state.listUsers)\n            })\n        .catch(async err=>{\n            await this.setState({authSetted:true,auth:false})\n        })      \n      }\n      async handleTagChange(event){\n          console.log(\"event\")\n          await this.setState({\n            tag:event.target.value,\n            page:1\n          })\n          console.log(this.state.tag)\n          await this.proceedState();\n      }\n      async handleNext(event){\n        console.log(\"event\")\n        let page=this.state.page+1\n        await this.setState({\n          page:page\n        })\n        await this.proceedState();\n    }\n    async handlePrev(event){\n        console.log(\"event\")\n        let page=this.state.page-1\n        await this.setState({\n          page:page\n        })\n        await this.proceedState();\n    }\n      render(\n          \n      ) {\n        if(!this.state.authSetted)\n        return(<div></div>)\n        console.log(\"this.state.auth\")\n        console.log(this.state.auth)\n        if(!this.state.auth)\n            return <NoAuth />\n        if(!this.state.adm)\n            return <NoAdmin />\n        let button1;\n        if (this.state.prevPage)\n            button1=<button onClick={this.handlePrev} id=\"prevButton\"class=\"btn btn-outline-dark\" >prev</button>\n        else    \n            button1=<button onclick=\"prev()\" id=\"prevButton\"class=\"btn btn-outline-dark\" disabled>prev</button>\n            let button2;\n        if (this.state.nextPage)\n            button2=<button onClick={this.handleNext} id=\"prevButton\"class=\"btn btn-outline-dark\" >next</button>\n        else    \n            button2=<button id=\"prevButton\"class=\"btn btn-outline-dark\" disabled>next</button>\n        return (\n            <div>\n                <br/>\n  <div class=\"form-inline mt-2 mt-md-0 marginlelt\">\n    <label for=\"searh\" id=\"heading\" >current user list:\n    </label>\n      <input onChange={this.handleTagChange}  class=\"form-control mr-sm-2 marginleltmore\" id=\"search\"type=\"text\" placeholder=\"Search\"  name=\"searching\"/>\n    </div>\n    <br/>   \n    <div class=\"tableUsers\">\n                <table class=\"table\">\n                <thead>\n                    <tr>\n                    <th scope=\"col\">#</th>\n                    <th scope=\"col\">login</th>\n                    <th scope=\"col\">fullname</th>\n                    <th scope=\"col\">registretedAt</th>\n                    </tr>\n                </thead>\n                <tbody>\n                {this.state.listUsers.map(user=>(\n                    <tr>\n                        <th scope=\"row\">{user.num}</th>\n                        <td><Link to={'/users/'+user.id}>{user.login}</Link></td>\n                        <td>{user.fullname}</td>\n                        <td>{user.registeredAt}</td>\n                    </tr>\n\n                ))}\n                </tbody>\n                </table></div>\n                <div style={{\"text-align\":\"center\"}}>\n    {button1}\n      <span id=\"page\">{this.state.page}</span>/<span id=\"pagenum\">{this.state.pageNum}</span>\n    {button2}\n  </div> \n            </div>\n        )\n      }\n  }\n  export default Users;","\nimport React  from 'react';\nimport   './users.css'\nimport NoAuthErr from '../errorPages/noAuth';\nimport NotFound from '../errorPages/notFound';\nimport {\n    Link\n  } from \"react-router-dom\";\nclass User extends React.Component {\n\n    constructor(props) {\n        super(props);\n        console.log(props.match.params.id);\n        this.getUser(props.match.params.id)\n        this.state = {\n            previewUser:{},\n            user:{},\n            editButton:false,\n            deleteButton:false,\n            errorStatus:200,\n            auth:false,\n            authSetted:false\n        };\n        this.handleDelete = this.handleDelete.bind(this);\n        this.handleChangeRights = this.handleChangeRights.bind(this);\n      }\n            \n      async getUser(id){\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({authSetted:true})\n            return\n        }\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        \n        let user=await fetch(\"/api/v1/me/\",reqOptions);\n        if (user.ok){\n            user=await user.json();\n            await this.setState({authSetted:true,auth:true})\n            console.log(\"user\")\n            console.log(user)\n            await this.setState({user:user})\n        }else{\n            await this.setState({authSetted:true,auth:false})\n            return\n        }\n        let response= await fetch(\"/api/v1/users/\"+id,reqOptions);\n        console.log(\"response:\")\n        console.log(response)\n        if (response.ok){\n            response=await response.json();\n            console.log(response)\n            if(!response.avaUrl)\n                response.avaUrl=\"http://res.cloudinary.com/dksfym6ok/image/upload/v1575476141/asd.png\"\n            await this.setState({previewUser:response})\n        }else{\n            await this.setState({serverError:404})\n        }\n        \n        let condition=false\n        if(this.state.previewUser)\n            if(this.state.previewUser.owner)\n                condition=(this.state.previewUser.owner.toString()==this.state.user.id.toString() )||this.state.user.role\n        await this.setState({\n            editButton:condition,\n            deleteButton:condition\n        })\n      }\n      async handleDelete(event){\n        console.log(\"changing\")\n\n    \n    }\n\n      async handleChangeRights(event){\n        console.log(\"changing\")\n        let newuser=this.state.previewUser;\n        newuser.role=!this.state.previewUser.role\n        await this.setState({previewUser:newuser})\n        const jwt = localStorage.getItem('jwt');\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n            method: 'PUT'\n        };\n        \n        let user=await fetch(\"/api/v1/users/\"+this.props.match.params.id+\"?role=\"+this.state.previewUser.role,reqOptions);\n        if (user.ok){\n            user=await user.json();\n            console.log(\"user\")\n            console.log(user)\n        }\n    \n    }\n    render() \n      {\n        if(!this.state.authSetted)\n        return(<div></div>)\n        if(!this.state.auth)\n            return(<NoAuthErr/>)\n        if(this.state.serverError==404)\n            return(<NotFound/>)\n        let Mybuttons;\n        // console.log(this.state.user)\n        // console.log(this.state.previewUser)\n        if(this.state.user.id==this.state.previewUser.id ){\n            Mybuttons=<div><Link to=\"/myphotos\"><input class=\"btn btn-secondary\" type=\"submit\" value=\"my photos\"/></Link>    \n            <br/>\n            <br/></div> \n        \n        }\n        let editb\n        if(this.state.user.id==this.state.previewUser.id || this.state.user.role ){\n            editb=<div><Link to={'/editusers/'+this.state.previewUser.id}> <input class=\"btn btn-secondary\" type=\"submit\" value=\"edit\"/></Link>\n                            <br/>\n                            <br/></div>\n        }\n        let rigthsB;\n        if(this.state.user.role){\n            if(!this.state.previewUser.role){\n                rigthsB=<input class=\"btn btn-secondary\" onClick={this.handleChangeRights} type=\"submit\" value=\"switch rigths to superuser\"></input>\n            }else{\n                rigthsB=<input class=\"btn btn-secondary\" onClick={this.handleChangeRights}  type=\"submit\" value=\"switch rigths to ordinary user\"></input>\n            }\n        }\n        \n        return (\n            <div class=\"container magrinTop30\" >\n                <div class=\"marginLeft20\">\n                <div class=\"row\">\n                    <div class=\"col-sm-4\">\n\n                    <div class=\"img\"><img src={this.state.previewUser.avaUrl} class=\"img-thumbnail userImage\" /></div>\n                    </div>\n                    <div class=\"col-sm-4\" class=\"padiingLeft\">\n                    <h3>About User</h3>\n                    Login: {this.state.previewUser.login}\n                    <p>Fullname: {this.state.previewUser.fullname}</p>\n                    {Mybuttons}\n                    {editb}\n                    {rigthsB}\n                    </div>\n                </div>\n                </div>\n                </div>\n    \n\n\n        );\n      }}\n  \n  export default User;","\nimport React from 'react';\nimport './users.css'\nclass EditUser extends React.Component {\n\n    constructor(props) {\n        super(props);\n        console.log(props.match.params.id);\n        this.getUser(props.match.params.id)\n        this.state = {\n            previewUser: {},\n            user: {},\n            error: false,\n            can: false,\n            serverError:false,\n            authSetted:false\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handlePriceInput=this.handlePriceInput.bind(this)\n        this.handleLoginInput=this.handleLoginInput.bind(this)\n        this.handleFullnameInput=this.handleFullnameInput.bind(this)\n        this.handleAvaChange = this.handleAvaChange.bind(this);\n    }\n    async handlePriceInput(e){\n        let previewUser=this.state.previewUser\n        previewUser.price=e.target.value\n        await this.setState({ previewUser:previewUser  })\n    }\n    handleAvaChange(e) {\n        console.log(\"changed\")\n        if (document.getElementById(\"inputGroupFile02\").value!=''){\n        let text=document.getElementById(\"inputGroupFile02\").value.replace('C:\\\\fakepath\\\\', \" \");\n        document.getElementById(\"need\").innerText=text\n  \n        }else{\n            document.getElementById(\"need\").innerText=\"Choose file\"\n        }\n      }\n    async handleSubmit(e){\n        e.preventDefault(); \n        const formData = new FormData(e.target);\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            alert(\"JWT is missing. Log in first\");\n            return;\n        }\n        try {\n            const response = await fetch('/api/v1/users/'+this.props.match.params.id, {\n              method: 'PUT',\n              body: formData,\n              headers: { Authorization: `Bearer ${jwt}`, },\n            });\n            const result = await response.json();\n            console.log('response:', JSON.stringify(result));\n            if (result.error)\n                if(result.error==\"there is already previewUser with such login\")\n                    this.setState({serverError:result.error})\n                else {\n                    this.setState({serverError:\"bad input\"})\n                }\n            else(this.props.history.push(\"/users/\"+this.props.match.params.id))\n          } catch (error) {\n\n          }\n    }\n    async handleLoginInput(e){\n        let previewUser=this.state.previewUser\n        previewUser.login=e.target.value\n        await this.setState({ previewUser:previewUser  })\n    }\n    async handleFullnameInput(e){\n        let previewUser=this.state.previewUser\n        previewUser.fullname=e.target.value\n        await this.setState({ previewUser:previewUser  })\n    }\n    async getUser(id) {\n        const jwt = localStorage.getItem('jwt');\n        if (!jwt) {\n            await this.setState({authSetted:true})\n            return;\n        }\n        const reqOptions = {\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n\n        let user = await fetch(\"/api/v1/me/\", reqOptions);\n        if (user.ok) {\n            user = await user.json();\n            console.log(\"user\")\n            console.log(user)\n            await this.setState({authSetted:true})\n            await this.setState({ user: user })\n        } else {\n            await this.setState({authSetted:true, error: \"not authorized\" })\n            return\n        }\n        let response = await fetch(\"/api/v1/users/\" + id, reqOptions);\n        if (response.ok) {\n            response = await response.json();\n            console.log(response)\n            if(!response.avaUrl)\n                response.avaUrl=\"http://res.cloudinary.com/dksfym6ok/image/upload/v1575476141/asd.png\"\n            await this.setState({ previewUser: response })\n        } else {\n            console.log(\"hmm\")\n            await this.setState({ error:\"no such previewUser\" })\n            return;\n        }\n\n        let condition = false\n        if (this.state.previewUser)\n            if (this.state.previewUser.owner)\n                condition = (this.state.previewUser.owner.toString() == this.state.user.id.toString()) || this.state.user.role\n        await this.setState({\n            can: condition\n        })\n    }\n\n    // async handleDelete(event) {\n    //     console.log(\"event\")\n\n    // }\n\nrender()\n{   \n    if(!this.state.authSetted)\n    return(<div></div>)\n    return(\n        <div class=\"container magrinTop30\" >\n                <div class=\"marginLeft20\">\n                <div class=\"row\">\n                    <div class=\"col-sm-4\">\n\n                    <div class=\"img\"><img src={this.state.previewUser.avaUrl} class=\"img-thumbnail userImage\" /></div>\n                    </div>\n                    <div class=\"col-sm-4\" class=\"padiingLeft\">\n                        <br/>\n                    <h3>Edit profile</h3>\n                    \n                    {this.state.serverError}\n                    <form onSubmit={this.handleSubmit}>\n                    <div class=\"input-group mb-3\">\n                        <div class=\"input-group-prepend\">\n                            <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">login</span>\n                        </div>\n                        <input type=\"text\" onChange={this.handleLoginInput} value={this.state.previewUser.login} login=\"login\" placeholder=\"login\" required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"/>\n                    </div>\n                    <div class=\"input-group mb-3\">\n                        <div class=\"input-group-prepend\">\n                            <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">fullname</span>\n                        </div>\n                        <input type=\"text\" onChange={this.handleFullnameInput} value={this.state.previewUser.fullname} login=\"login\" placeholder=\"login\" required class=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\"/>\n                    </div>\n                    <div class=\"input-group mb-3\">\n                        <div class=\"custom-file\">\n                            <input type=\"file\" class=\"custom-file-input\" name=\"avaUrl\" onChange={this.handleAvaChange} accept=\".jpg,.jpeg,.png\" id=\"inputGroupFile02\" />\n                            <label class=\"custom-file-label butt\" id=\"need\" for=\"inputGroupFile02\">Choose file</label>\n                        </div>\n                    </div>\n                    <button class=\"btn btn btn-primary btn-block\" type=\"submit\">save changes</button>\n                    </form>\n                    </div>\n                </div>\n                </div>\n                </div>\n    \n\n    )\n}}\n                  \n  export default EditUser;","import {\n    createBrowserHistory ,\n  } from \"history\";\n  export default createBrowserHistory();","import React from 'react';\n\nexport default function Success(props) {\n    return (\n        <div class=\"indexText\" style={{marginLeft:\"0\",minWidth:\"100%\",textAlign:\"center\"}}>\n        <div class=\"d-flex justify-content-center align-items-center \" id=\"main\">\n   \n    \t<h2 class=\"font-weight-normal lead \" id=\"desc\">success</h2>\n    </div>\n        </div>\n\n    );\n}","import React,{useState,useEffect} from 'react';\nimport Success from '../errorPages/success'\nimport NoAuth from '../errorPages/noAuth'\nexport default function Telega(props) {\n    const jwt = localStorage.getItem('jwt');\n    const [auth, setAuth] = useState(false);\n    useEffect(() => {\n        getUser()\n    }, [])\n    async function getUser(){\n        const jwt = localStorage.getItem('jwt');\n     if (!jwt) {\n            return;\n        }\n        const reqOptions = {\n            method:\"POST\",\n            headers: { Authorization: `Bearer ${jwt}`, },\n        };\n        let params = (new URL(document.location)).searchParams;\n        // console.log(\"id\")\n        // console.log(params.get(\"id\"))\n        let response = await fetch (\"/api/v1/telegram?chat_id=\"+params.get(\"id\"),reqOptions)\n        if(response.ok)\n            setAuth(true)\n\n    }\n    if(auth)\n    return (\n        <Success/>\n    )\n    else\n    return(\n        <NoAuth/>\n    )\n}\n","import React from 'react';\n\nexport default function MyFooter(props) {\n    return (\n        <div>\n\n\n\n<table class=\"cwdtable\" cellspacing=\"0\" cellpadding=\"1\" border=\"1\">\n<thead>\n\t<tr >\n            <th colspan=\"2\">Users</th>\n            \n\t</tr>\n</thead>\n<tbody>\n\t<tr>\n\t\t<td>GET /api/v1/me</td>\n\t\t<td>Повертає інформацію про авторизованого користувача в форматі JSON </td>\n\t</tr>\n    <tr>\n\t\t<td>GET /api/v1/users/:id</td>\n\t\t<td>Повертає інформацію про користувача за його _id в форматі JSON. </td>\n\t</tr>\n    <tr>\n\t\t<td>GET /api/v1/users?page=n</td>\n\t\t<td>Повертає інформацію про існуючих користувачів в форматі JSON. Розбиває відповідь на сторінки по 2 користувача. Для отримання n-нної сторінки введіть її номер як значення поля page. </td>\n\t</tr>\n    <tr>\n\t\t<td>GET /api/v1/users?par=key</td>\n\t\t<td>Повертає масив користувачів що задоівльняють умову в форматі JSON </td>\n\t</tr>\n    <tr>\n\t\t<td>DELETE /api/v1/users/:id</td>\n\t\t<td>Видаляє користувача, повертає інформацію про видалений елемент </td>\n\t</tr>\n    <tr>\n\t\t<td>PUT /api/v1/users</td>\n\t\t<td>Оновлює інформацію про користувача згідно з заданими новими значеннями. Повертає старі дані</td>\n\t</tr>\n    <tr>\n\t\t<td>POST /api/v1/users</td>\n\t\t<td>Створює нового користувача. Повертає його в JSON форматі разом з наданим _id.  </td>\n\t</tr>\n    </tbody>\n</table>\n\n<br />\n\n<table class=\"cwdtable\" cellspacing=\"0\" cellpadding=\"1\" border=\"1\">\n<thead>\n\t<tr >\n            <th colspan=\"2\">Photos</th>\n            \n\t</tr>\n</thead>\n<tbody>\n\n    <tr>\n\t\t<td>GET /api/v1/photos/:id</td>\n\t\t<td>Повертає інформацію про фото за його _id в форматі JSON. </td>\n\t</tr>\n    <tr>\n\t\t<td>GET /api/v1/photos?page=n</td>\n\t\t<td>Повертає інформацію про існуючі фото в форматі JSON. Розбиває відповідь на сторінки по 2 користувача. Для отримання n-нної сторінки введіть її номер як значення поля page. </td>\n\t</tr>\n    <tr>\n\t\t<td>GET /api/v1/photos?par=key</td>\n\t\t<td>Повертає масив фото що задоівльняють умову в форматі JSON </td>\n\t</tr>\n    <tr>\n\t\t<td>DELETE /api/v1/photos/:id</td>\n\t\t<td>Видаляє фото за _id, повертає інформацію про видалений елемент </td>\n\t</tr>\n    <tr>\n\t\t<td>PUT /api/v1/photos</td>\n\t\t<td>Оновлює інформацію про фото згідно з заданими новими значеннями. Повертає старі дані</td>\n\t</tr>\n    <tr>\n\t\t<td>POST /api/v1/photos</td>\n\t\t<td>Створює нове фото . Повертає його в JSON форматі разом з наданим _id.  </td>\n\t</tr>\n    </tbody>\n</table>\n\n<br />\n\n<table class=\"cwdtable\" cellspacing=\"0\" cellpadding=\"1\" border=\"1\">\n<thead>\n\t<tr >\n            <th colspan=\"2\">Albums</th>\n            \n\t</tr>\n</thead>\n<tbody>\n\n    <tr>\n\t\t<td>GET /api/v1/albums/:id</td>\n\t\t<td>Повертає інформацію про альбом за його _id в форматі JSON. </td>\n\t</tr>\n    <tr>\n\t\t<td>GET /api/v1/albums?page=n</td>\n\t\t<td>Повертає інформацію про існуючі альбоми в форматі JSON. Розбиває відповідь на сторінки по 2 користувача. Для отримання n-нної сторінки введіть її номер як значення поля page. </td>\n\t</tr>\n    <tr>\n\t\t<td>GET /api/v1/albums?par=key</td>\n\t\t<td>Повертає масив альбомів що задоівльняють умову в форматі JSON </td>\n\t</tr>\n    <tr>\n\t\t<td>DELETE /api/v1/albums/:id</td>\n\t\t<td>Видаляє альбом за _id, повертає інформацію про видалений елемент </td>\n\t</tr>\n    <tr>\n\t\t<td>PUT /api/v1/albums</td>\n\t\t<td>Оновлює інформацію про альбом згідно з заданими новими значеннями. Повертає старі дані</td>\n\t</tr>\n    <tr>\n\t\t<td>POST /api/v1/albums</td>\n\t\t<td>Створює новий альбом . Повертає його в JSON форматі разом з наданим _id.  </td>\n\t</tr>\n    </tbody>\n</table>\n\n<br />\n\n<table class=\"cwdtable\" cellspacing=\"0\" cellpadding=\"1\" border=\"1\">\n<thead>\n\t<tr >\n            <th colspan=\"2\">Auth</th>\n            \n\t</tr>\n</thead>\n<tbody>\n\n    <tr>\n\t\t<td>BasicAuth</td>\n\t\t<td>надає тимчасовий доступ до api запросів відповідно до прав доступу  </td>\n\t</tr>\n    <tr>\n\t\t<td>Auth on site</td>\n\t\t<td>Доступ до відповідних ресурсів</td>\n\t</tr>\n</tbody>\n</table>\n<br />\n<table class=\"cwdtable\" cellspacing=\"0\" cellpadding=\"1\" border=\"1\">\n<thead>\n\t<tr >\n            <th colspan=\"2\">Errors</th>\n            \n\t</tr>\n</thead>\n<tbody>\n\n    <tr>\n\t\t<td>status 404</td>\n\t\t<td>ресурсу з такими параметрами не знайдено  </td>\n\t</tr>\n    <tr>\n\t\t<td>status 401</td>\n\t\t<td>Потрібна авторизація для отримання доступу</td>\n\t</tr>\n    <tr>\n\t\t<td>status 403</td>\n\t\t<td>Потрібні права адміністратора для отримання доступу</td>\n\t</tr>\n    <tr>\n\t\t<td>status 500</td>\n\t\t<td>Помилка при обробці запиту</td>\n\t</tr>\n</tbody>\n</table>\n        </div>\n    );\n}\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport {\n  BrowserRouter ,\n  Route,\n  Switch,\n  Link\n} from \"react-router-dom\";\nimport MyFooter from './partials/footer'\nimport MyNavbar from './partials/navbar';\nimport About from './about/about';\nimport Home from './home/home';\nimport Login from './auth/login';\nimport Logout from './auth/logout';\nimport Register from './auth/register';\nimport Photos from './photos/photos';\nimport NewPhoto from './photos/newphoto';\nimport NewAlbum from './albums/newalbum';\nimport MyPhotos from './photos/myphotos';\nimport Photo from './photos/photo';\nimport Album from './albums/album';\nimport EditPhoto from './photos/editphoto';\nimport Albums from './albums/albums';\nimport Users from './users/users';\nimport User from './users/user';\nimport EditUser from './users/edituser';\nimport history from './hystory'\nimport Telega from './auth/telega'\nimport NotFound from './errorPages/notFound'\nimport dev from './dev'\nfunction App() {\n  return (\n    <div id=\"App\">\n      <BrowserRouter>\n      <MyNavbar/>\n      \n      <Switch>\n          <Route path=\"/about\" exact component={About} />\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/login\" exact component={Login} />\n          <Route path=\"/logout\" exact component={Logout} />\n          <Route path=\"/register\" exact component={Register} />\n          <Route path=\"/photos/:id\" history={history} exact component={Photo} />\n          <Route path=\"/albums/:id\" history={history} exact component={Album} />\n          <Route path=\"/photos\" exact component={Photos} />\n          <Route path=\"/newphoto\" exact component={NewPhoto} />\n          <Route path=\"/newalbum\" exact component={NewAlbum} />\n          <Route path=\"/editphoto/:id\" exact component={EditPhoto} />\n          <Route path=\"/myphotos\" exact component={MyPhotos} />\n          <Route path=\"/albums\" exact component={Albums} />\n          <Route path=\"/users\" exact component={Users} />\n          <Route path=\"/users/:id\" exact component={User} />\n          <Route path=\"/bot/auth\" exact component={Telega} />\n          <Route path=\"/editusers/:id\" exact component={EditUser} />\n          <Route path=\"/dev/v1\" exact component={dev} />\n          <Route path=\"*\" component={NotFound} />\n      </Switch>\n      </BrowserRouter>\n      <MyFooter/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}