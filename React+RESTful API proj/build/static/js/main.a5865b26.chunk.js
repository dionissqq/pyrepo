(this["webpackJsonpclient-app"]=this["webpackJsonpclient-app"]||[]).push([[0],{37:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},57:function(e,t,a){},66:function(e,t,a){e.exports=a(86)},71:function(e,t,a){},72:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},73:function(e,t,a){},74:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(29),l=a.n(s),c=(a(71),a(72),a(73),a(7)),o=a(33);a(74);function i(e){return r.a.createElement("footer",{class:"fixed-bottom"},r.a.createElement("div",{class:"footer"},"@c"))}var u=a(18),h=a(91),p=a(90),m=a(89);function d(e){var t,a,s,l=Object(n.useState)(!1),o=Object(u.a)(l,2),i=o[0],d=o[1],g=Object(n.useState)({}),b=Object(u.a)(g,2),v=b[0],E=b[1];return console.log(e),Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("jwt");fetch("/api/v1/me",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return console.log("user"),console.log(e),200==e.status&&d(!0),e.json()})).then((function(e){E(e)}))}()}),[]),console.log("auth"),console.log(i),console.log(v),v!={}&&(t=r.a.createElement(h.a.Link,null,r.a.createElement(c.b,{class:"no_link",to:"/users/"+v.id},v.login))),1==v.role&&(a=r.a.createElement(h.a.Link,null,r.a.createElement(c.b,{class:"no_link",to:"/users"},"users"))),s=i?r.a.createElement(h.a,{key:i},r.a.createElement(h.a.Link,null,r.a.createElement(c.b,{class:"no_link",to:"/logout"},"logout"))):r.a.createElement(h.a,{key:i},r.a.createElement(h.a.Link,null,r.a.createElement(c.b,{class:"no_link",to:"/login"},"login")),r.a.createElement(h.a.Link,null,r.a.createElement(c.b,{class:"no_link",to:"/register"},"sign up"))),r.a.createElement(p.a,{collapseOnSelect:!0,expand:"lg",bg:"light"},r.a.createElement(p.a.Brand,null,r.a.createElement(c.b,{class:"no_link",to:"/"},r.a.createElement("img",{src:"https://res.cloudinary.com/dksfym6ok/image/upload/v1576428172/Screenshot_from_2019-12-15_18-42-12_vbqdkh.png",weign:"40",height:"40"}))),r.a.createElement(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(h.a,{className:"mr-auto"},t,a,r.a.createElement(m.a,{title:"photos",id:"collasible-nav-dropdown"},r.a.createElement(m.a.Item,null,r.a.createElement(c.b,{class:"no_link",to:"/photos"},"all")),r.a.createElement(m.a.Item,null,r.a.createElement(c.b,{class:"no_link",to:"/myphotos"},"my")),r.a.createElement(m.a.Divider,null),r.a.createElement(m.a.Item,null,r.a.createElement(c.b,{class:"no_link",to:"/newphoto"},"new"))),r.a.createElement(m.a,{title:"albums",id:"collasible-nav-dropdown"},r.a.createElement(m.a.Item,null,r.a.createElement(c.b,{class:"no_link",to:"/albums"},"all")),r.a.createElement(m.a.Divider,null),r.a.createElement(m.a.Item,{to:"/newphoto"},r.a.createElement(c.b,{class:"no_link",to:"/newalbum"},"new"))),r.a.createElement(h.a.Link,null,r.a.createElement(c.b,{class:"no_link",to:"/about"},"about"))),s))}a(82);function g(e){return r.a.createElement("div",{class:"leftSpace"},"This is a photo hosting site created for people interested in photoindustry.",r.a.createElement("p",null,"Here you can buy/share/sell photos and follow you favourite people.  "),r.a.createElement("p",null,"Nowadays site is under development, so some functions may not work properly."),r.a.createElement("p",null,"Thanks for choosing photoNee."))}var b=a(1),v=a.n(b);a(84);function E(e){var t,a=Object(n.useState)(!0),s=Object(u.a)(a,2),l=s[0],o=s[1];return Object(n.useEffect)((function(){!function(){var e;v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=localStorage.getItem("jwt"),fetch("/api/v1/me",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return console.log("user"),console.log(e),200!=e.status&&o(!1),e.json()}));case 2:case"end":return t.stop()}}))}()}),[]),l||(t=r.a.createElement("div",null,r.a.createElement("p",{style:{width:"50%"},class:"allHome"},"log in to enable all features"),r.a.createElement(c.b,{class:"no_link",to:"/login"},r.a.createElement("button",{class:"btn btn-secondary  homeBtn",role:"button"},"log in \xbb")))),r.a.createElement("div",{role:"main"},r.a.createElement("div",{class:"jumbotron"},r.a.createElement("div",{class:"container"},r.a.createElement("h2",{class:" allHome"},"Welcome!"),r.a.createElement("p",null,"This is a site created to fit all your photo tastes"),t)),r.a.createElement("div",{class:"container marketing"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-4",style:{textAlign:"center"}},r.a.createElement("img",{class:"rounded-circle",src:"https://icon-library.net/images/photo-icon-png/photo-icon-png-10.jpg",alt:"Generic placeholder image",width:"140",height:"140"}),r.a.createElement("h2",null,"Photos"),r.a.createElement("p",null,"Explore more photos"),r.a.createElement("p",null,r.a.createElement(c.b,{class:"no_link",to:"/photos"},r.a.createElement("button",{class:"btn btn-secondary btn-sm",role:"button"},"View all \xbb")))),r.a.createElement("div",{class:"col-lg-4",style:{textAlign:"center"}},r.a.createElement("img",{class:"rounded-circle",src:"https://cdn3.iconfinder.com/data/icons/web-ui-3/128/Folder-2-512.png",alt:"Generic placeholder image",width:"140",height:"140"}),r.a.createElement("h2",null,"Albums"),r.a.createElement("p",null,"Explore more albums"),r.a.createElement("p",null,r.a.createElement(c.b,{class:"no_link",to:"/albums"},r.a.createElement("button",{class:"btn btn-secondary btn-sm",role:"button"},"View all \xbb")))),r.a.createElement("div",{class:"col-lg-4",style:{textAlign:"center"}},r.a.createElement("img",{class:"rounded-circle",src:"https://iconmonstr.com/wp-content/g/gd/makefg.php?i=../assets/preview/2018/png/iconmonstr-telegram-5.png&r=0&g=0&b=0",alt:"Generic placeholder image",width:"140",height:"140"}),r.a.createElement("h2",null,"Telegram"),r.a.createElement("p",null,"Now you can stay up-to-date via Telegram"),r.a.createElement("p",null,r.a.createElement("form",{action:"https://t.me/photoNee_bot",method:"get",target:"_blank"},r.a.createElement("button",{class:"btn btn-secondary btn-sm",type:"submit",role:"button"}," go \xbb")))))))}var f=a(9),x=a(10),w=a(13),y=a(11),S=a(3),k=a(12),j=(a(57),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).state={login:"",pass:""},a.handleLoginChange=a.handleLoginChange.bind(Object(S.a)(a)),a.handlePassChange=a.handlePassChange.bind(Object(S.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(S.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"handleLoginChange",value:function(e){console.log(e.target.value),this.setState({login:e.target.value})}},{key:"handlePassChange",value:function(e){console.log(e.target.value),this.setState({pass:e.target.value})}},{key:"handleSubmit",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),fetch("/api/v1/auth/login?username="+this.state.login+"&password="+this.state.pass,{method:"POST"}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e.token;console.log(t),void 0==t?document.getElementById("nadpis").innerText="No such user":(localStorage.setItem("jwt",t),window.location.href="/")})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",{id:"loginForm"},r.a.createElement("form",{class:"form-signin",onSubmit:this.handleSubmit,id:"login-form"},r.a.createElement("h1",{class:"h3 mb-3 font-weight-normal",id:"nadpis"},"Please sign in"),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"login")),r.a.createElement("input",{type:"text",name:"username",value:this.state.login,onChange:this.handleLoginChange,placeholder:"Login",required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"pass")),r.a.createElement("input",{type:"password",name:"password",value:this.state.pass,onChange:this.handlePassChange,class:"form-control",placeholder:"Password",required:!0,"aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("button",{class:"btn btn btn-primary btn-block",type:"submit"},"Sign in"),r.a.createElement("br",null),r.a.createElement("h6",{class:"h6 mb-3 font-weight-normal"},"don't have account yet?",r.a.createElement("a",{href:"/auth/register"}," sing up")," ")))}}]),t}(r.a.Component));function C(e){return localStorage.removeItem("jwt"),window.location.href="/",r.a.createElement("div",null)}var O=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(w.a)(this,Object(y.a)(t).call(this))).state={login:"",pass:"",pass1:"",fullname:"",file:"",button:!1,serverError:!1},e.handleLoginChange=e.handleLoginChange.bind(Object(S.a)(e)),e.handlePassChange=e.handlePassChange.bind(Object(S.a)(e)),e.handleFullnameChange=e.handleFullnameChange.bind(Object(S.a)(e)),e.handlePass1Change=e.handlePass1Change.bind(Object(S.a)(e)),e.handleAvaChange=e.handleAvaChange.bind(Object(S.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(e)),e}return Object(k.a)(t,e),Object(x.a)(t,[{key:"checkButton",value:function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("checking"),!(this.state.login.length>2&&this.state.fullname.length>0&&this.state.pass.length>2&&this.state.pass==this.state.pass1)){e.next=7;break}return console.log("true"),e.next=5,v.a.awrap(this.setState({button:!0}));case 5:e.next=9;break;case 7:return e.next=9,v.a.awrap(this.setState({button:!1}));case 9:case"end":return e.stop()}}),null,this)}},{key:"handleLoginChange",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.target.value),t.next=3,v.a.awrap(this.setState({login:e.target.value}));case 3:this.checkButton();case 4:case"end":return t.stop()}}),null,this)}},{key:"handleFullnameChange",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.target.value),t.next=3,v.a.awrap(this.setState({fullname:e.target.value}));case 3:return t.next=5,v.a.awrap(this.checkButton());case 5:case"end":return t.stop()}}),null,this)}},{key:"handlePassChange",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.target.value),t.next=3,v.a.awrap(this.setState({pass:e.target.value}));case 3:return t.next=5,v.a.awrap(this.checkButton());case 5:case"end":return t.stop()}}),null,this)}},{key:"handlePass1Change",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.target.value),t.next=3,v.a.awrap(this.setState({pass1:e.target.value}));case 3:return t.next=5,v.a.awrap(this.checkButton());case 5:case"end":return t.stop()}}),null,this)}},{key:"handleAvaChange",value:function(e){if(console.log("changed"),""!=document.getElementById("inputGroupFile02").value){var t=document.getElementById("inputGroupFile02").value.replace("C:\\fakepath\\"," ");document.getElementById("need").innerText=t}else document.getElementById("need").innerText="Choose file"}},{key:"handleSubmit",value:function(e){var t,a,n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t=new FormData(e.target),r.prev=2,r.next=5,v.a.awrap(fetch("/api/v1/users/",{method:"POST",body:t}));case 5:return(a=r.sent).ok&&(window.location.href="/"),r.next=9,v.a.awrap(a.json());case 9:if(n=r.sent,console.log("\u0423\u0441\u043f\u0435\u0445:",JSON.stringify(n)),!n.error){r.next=19;break}if("there is already photo with such name"!=n.error){r.next=17;break}return r.next=15,v.a.awrap(this.setState({serverError:n.error}));case 15:r.next=19;break;case 17:return r.next=19,v.a.awrap(this.setState({serverError:"bad input"}));case 19:r.next=24;break;case 21:r.prev=21,r.t0=r.catch(2),console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",r.t0);case 24:case"end":return r.stop()}}),null,this,[[2,21]])}},{key:"render",value:function(){var e,t;return e=this.state.serverError?r.a.createElement("p",{class:"font-weight-bolder"},this.state.serverError):r.a.createElement("p",{class:"font-weight-bolder"},"sign up"),t=this.state.button?r.a.createElement("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"sign up"):r.a.createElement("button",{class:"btn btn-lg btn-primary btn-block",type:"submit",disabled:!0},"sign up"),r.a.createElement("div",{id:"registerForm"},r.a.createElement("form",{class:"form-signin",onSubmit:this.handleSubmit,enctype:"multipart/form-data"},e,r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"login")),r.a.createElement("input",{type:"text",name:"login",onChange:this.handleLoginChange,placeholder:"Login",required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"fullname")),r.a.createElement("input",{type:"text",name:"fullname",onChange:this.handleFullnameChange,placeholder:"fullname",required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",id:"inputGroupFile02",onChange:this.handleAvaChange,class:"custom-file-input",name:"avaUrl",accept:".jpg,.jpeg,.png"}),r.a.createElement("label",{class:"custom-file-label butt",id:"need",for:"inputGroupFile02"},"choose ava"))),r.a.createElement("script",{src:"./file.js"}),r.a.createElement("div",{class:"form-label-group"},r.a.createElement("input",{type:"password",onChange:this.handlePassChange,id:"password",placeholder:"password",name:"password",required:!0,class:"form-control"}),r.a.createElement("label",{for:"password"},r.a.createElement("span",{class:"font-weight-lighter"}," password"))),r.a.createElement("div",{class:"form-label-group"},r.a.createElement("input",{type:"password",onChange:this.handlePass1Change,class:"form-control",id:"password1",placeholder:"password",name:"password1",required:!0}),r.a.createElement("label",{for:"password1"},r.a.createElement("span",{class:"font-weight-lighter"},"confirm password"))),t,r.a.createElement("br",null),r.a.createElement("h6",{class:"h6 mb-3 font-weight-normal"},r.a.createElement("a",{href:"/auth/login"}," i already have the account")," ")))}}]),t}(r.a.Component);a(37);function P(e){return r.a.createElement("div",{class:"indexText",style:{marginLeft:"0",minWidth:"100%",textAlign:"center"}},r.a.createElement("div",{class:"d-flex justify-content-center align-items-center heigthMan",id:"main"},r.a.createElement("h1",{class:"mr-3 pr-3 align-top border-right inline-block align-content-center"},"401"),r.a.createElement("div",{class:"inline-block align-middle"},r.a.createElement("h2",{class:"font-weight-normal lead ",id:"desc"},"auth first"))))}function B(e){return r.a.createElement("div",{class:"indexText",style:{marginLeft:"0",minWidth:"100%",textAlign:"center"}},r.a.createElement("div",{class:"d-flex justify-content-center align-items-center ",id:"main"},r.a.createElement("h1",{class:"mr-3 pr-3 align-top border-right inline-block align-content-center"},"404"),r.a.createElement("div",{class:"inline-block align-middle"},r.a.createElement("h2",{class:"font-weight-normal lead ",id:"desc"},"The page you requested was not found."))))}var I=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).state={page:1,tag:"",pageNum:1,nextPage:!1,prevPage:!0,listPhotos:[],auth:!1,heading:"current photo list:",authSetted:!1},a.proceedState(),a.handleTagChange=a.handleTagChange.bind(Object(S.a)(a)),a.handleNext=a.handleNext.bind(Object(S.a)(a)),a.handlePrev=a.handlePrev.bind(Object(S.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"proceedState",value:function(){var e,t,a=this;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("ok boomer"),e=localStorage.getItem("jwt")){n.next=5;break}return n.next=5,v.a.awrap(this.setState({auth:!1}));case 5:t={headers:{Authorization:"Bearer ".concat(e)}},fetch("/api/v1/photos?searching="+this.state.tag+"&page="+this.state.page,t).then((function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(401!=e.status){t.next=5;break}throw a.setState({authSetted:!0,auth:!1}),new Error("Whoops!");case 5:return t.next=7,v.a.awrap(a.setState({authSetted:!0,auth:!0}));case 7:return t.abrupt("return",e.json());case 8:case"end":return t.stop()}}))})).then((function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("num ofpages"),console.log(e.pageNumber),t.next=4,v.a.awrap(a.setState({pageNum:e.pageNumber}));case 4:if(!(parseInt(a.state.page)>1)){t.next=9;break}return t.next=7,v.a.awrap(a.setState({prevPage:!0}));case 7:t.next=11;break;case 9:return t.next=11,v.a.awrap(a.setState({prevPage:!1}));case 11:if(!(a.state.page<a.state.pageNum)){t.next=16;break}return t.next=14,v.a.awrap(a.setState({nextPage:!0}));case 14:t.next=18;break;case 16:return t.next=18,v.a.awrap(a.setState({nextPage:!1}));case 18:console.log(e.displayData),void 0!=e.displayData?a.setState({listPhotos:e.displayData}):a.setState({listPhotos:[],pageNum:1}),void 0==e.displayData&&a.setState({heading:"no matches"}),console.log(a.state.listPhotos);case 22:case"end":return t.stop()}}))})).catch((function(e){}));case 7:case"end":return n.stop()}}),null,this)}},{key:"handleTagChange",value:function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("event"),t="results for "+e.target.value+":",""==e.target.value&&(t="current photo list:"),a.next=5,v.a.awrap(this.setState({tag:e.target.value,page:1,heading:t}));case 5:return console.log(this.state.tag),a.next=8,v.a.awrap(this.proceedState());case 8:case"end":return a.stop()}}),null,this)}},{key:"handleNext",value:function(e){var t;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("event"),t=this.state.page+1,e.next=4,v.a.awrap(this.setState({page:t}));case 4:return e.next=6,v.a.awrap(this.proceedState());case 6:case"end":return e.stop()}}),null,this)}},{key:"handlePrev",value:function(e){var t;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("event"),t=this.state.page-1,e.next=4,v.a.awrap(this.setState({page:t}));case 4:return e.next=6,v.a.awrap(this.proceedState());case 6:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return this.state.authSetted?this.state.auth?(0==this.state.listPhotos.length&&(e=r.a.createElement(B,null)),t=this.state.prevPage?r.a.createElement("button",{onClick:this.handlePrev,id:"prevButton",class:"btn btn-outline-dark"},"prev"):r.a.createElement("button",{onclick:"prev()",id:"prevButton",class:"btn btn-outline-dark",disabled:!0},"prev"),a=this.state.nextPage?r.a.createElement("button",{onClick:this.handleNext,id:"prevButton",class:"btn btn-outline-dark"},"next"):r.a.createElement("button",{id:"prevButton",class:"btn btn-outline-dark",disabled:!0},"next"),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{class:"form-inline mt-2 mt-md-0 marginlelt"},r.a.createElement("label",{for:"searh",id:"heading"},this.state.heading),r.a.createElement("input",{onChange:this.handleTagChange,class:"form-control mr-sm-2 marginleltmore",id:"search",type:"text",placeholder:"Search",name:"searching"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{class:"album py-4 bg-light"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row",id:"parentElement"},this.state.listPhotos.map((function(e){return r.a.createElement("div",{class:"col-md-3",style:{display:"inline-block"}},r.a.createElement("div",{class:"card mb-3 shadow-sm"},r.a.createElement("svg",{class:"bd-placeholder-img card-img-top",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img","aria-label":"Placeholder: Thumbnail"},r.a.createElement("image",{href:e.url,alt:e.name,width:"100%",height:"100%",x:"0",y:"0"})),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"d-flex justify-content-between align-items-center"},r.a.createElement("div",{class:"btn-group"},r.a.createElement(c.b,{to:"/photos/"+e._id,class:"btn btn-sm btn-outline-secondary"},"View")),r.a.createElement("small",{class:"text-muted"},e.name)))))})),e))),r.a.createElement("p",null),r.a.createElement("br",null),r.a.createElement("div",{style:{"text-align":"center"}},t,r.a.createElement("span",{id:"page"},this.state.page),"/",r.a.createElement("span",{id:"pagenum"},this.state.pageNum),a))):r.a.createElement(P,null):r.a.createElement("div",null);var e,t,a}}]),t}(r.a.Component),T=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(w.a)(this,Object(y.a)(t).call(this))).state={name:"",pass:"",pass1:"",author:"",file:"",button:!1,serverError:!1,auth:!0,authSetted:!1},e.checkAuth(),e.handleNameChange=e.handleNameChange.bind(Object(S.a)(e)),e.handlePriceChange=e.handlePriceChange.bind(Object(S.a)(e)),e.handleAuthorChange=e.handleAuthorChange.bind(Object(S.a)(e)),e.handlePhotoChange=e.handlePhotoChange.bind(Object(S.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(e)),e}return Object(k.a)(t,e),Object(x.a)(t,[{key:"checkAuth",value:function(){var e,t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=localStorage.getItem("jwt")){a.next=4;break}return a.next=4,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 4:return t={headers:{Authorization:"Bearer ".concat(e)}},a.next=7,v.a.awrap(fetch("/api/v1/me/",t));case 7:if(a.sent.ok){a.next=13;break}return a.next=11,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 11:a.next=15;break;case 13:return a.next=15,v.a.awrap(this.setState({authSetted:!0,auth:!0}));case 15:case"end":return a.stop()}}),null,this)}},{key:"handleNameChange",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.target.value),t.next=3,v.a.awrap(this.setState({name:e.target.value}));case 3:case"end":return t.stop()}}),null,this)}},{key:"handleAuthorChange",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.target.value),t.next=3,v.a.awrap(this.setState({author:e.target.value}));case 3:case"end":return t.stop()}}),null,this)}},{key:"handlePriceChange",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.target.value),t.next=3,v.a.awrap(this.setState({price:e.target.value}));case 3:case"end":return t.stop()}}),null,this)}},{key:"handlePhotoChange",value:function(e){if(console.log("changed"),""!=document.getElementById("inputGroupFile02").value){var t=document.getElementById("inputGroupFile02").value.replace("C:\\fakepath\\"," ");document.getElementById("need").innerText=t}else document.getElementById("need").innerText="Choose file*"}},{key:"handleSubmit",value:function(e){var t,a,n,r;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),t=localStorage.getItem("jwt")){s.next=5;break}return s.next=5,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 5:return{headers:{Authorization:"Bearer ".concat(t)}},a=new FormData(e.target),s.prev=7,s.next=10,v.a.awrap(fetch("/api/v1/photos/",{method:"POST",body:a,headers:{Authorization:"Bearer ".concat(t)}}));case 10:if(!(n=s.sent).ok){s.next=15;break}return s.next=14,v.a.awrap(this.setState({authSetted:!0,auth:!0}));case 14:this.props.history.push("/photos");case 15:return s.next=17,v.a.awrap(n.json());case 17:if(r=s.sent,console.log("\u0423\u0441\u043f\u0435\u0445:",JSON.stringify(r)),!r.error||void 0==r.error){s.next=31;break}if(!(r.status=401)){s.next=23;break}return s.next=23,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 23:if("there is already photo with such name"!=r.error){s.next=28;break}return s.next=26,v.a.awrap(this.setState({serverError:r.error}));case 26:s.next=31;break;case 28:return console.log(r.error),s.next=31,v.a.awrap(this.setState({serverError:"bad input"}));case 31:s.next=36;break;case 33:s.prev=33,s.t0=s.catch(7),console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",s.t0);case 36:case"end":return s.stop()}}),null,this,[[7,33]])}},{key:"render",value:function(){return this.state.authSetted?this.state.auth?(this.state.serverError&&(e=r.a.createElement("div",{class:"errorBox"},this.state.serverError)),r.a.createElement("div",{class:"newPhotoStyle"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{class:"font-weight-bolder"},"Create new photo"),e,r.a.createElement("form",{id:"form",onSubmit:this.handleSubmit,enctype:"multipart/form-data"},r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"name*")),r.a.createElement("input",{type:"text",name:"name",placeholder:"name",onChange:this.handleNameChange,required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"}))),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"author")),r.a.createElement("input",{type:"text",name:"author",placeholder:"author",onChange:this.handleAuthorChange,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"price")),r.a.createElement("input",{type:"number",id:"price",name:"price",placeholder:"price",onLoadedData:this.handlePriceChange,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",required:!0,class:"custom-file-input butt",onChange:this.handlePhotoChange,name:"url",accept:".jpg,.jpeg,.png",id:"inputGroupFile02"}),r.a.createElement("label",{id:"need",class:"custom-file-label butt",for:"inputGroupFile02"},"Choose file*"))),r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"comment")),r.a.createElement("textarea",{type:"text",name:"description",placeholder:"/description",class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"}))),r.a.createElement("button",{class:"btn btn btn-primary btn-block",type:"submit"},"post")))):r.a.createElement(P,null):r.a.createElement("div",null);var e}}]),t}(r.a.Component),A=(a(50),function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(w.a)(this,Object(y.a)(t).call(this))).state={photoNames:[],button:!1,serverError:!1,auth:!1,authSetted:!1},e.checkAuth(),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(e)),e.handlePhotoChange=e.handlePhotoChange.bind(Object(S.a)(e)),e}return Object(k.a)(t,e),Object(x.a)(t,[{key:"checkAuth",value:function(){var e,t,a,n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=localStorage.getItem("jwt")){r.next=5;break}return r.next=4,v.a.awrap(this.setState({authSetted:!0}));case 4:return r.abrupt("return");case 5:return t={headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json",Accept:"application/json"}},r.next=8,v.a.awrap(fetch("/api/v1/photonames",t));case 8:if(a=r.sent,console.log(a),console.log(a.body),console.log("its -"),!a.ok){r.next=24;break}return console.log("its ok"),r.next=16,v.a.awrap(a.json());case 16:return n=r.sent,console.log("its after json"),console.log(n),r.next=21,v.a.awrap(this.setState({authSetted:!0,auth:!0,photoNames:n}));case 21:console.log(this.state.photos),r.next=27;break;case 24:return r.next=26,v.a.awrap(this.setState({authSetted:!0}));case 26:console.log("wtf");case 27:case"end":return r.stop()}}),null,this)}},{key:"handlePhotoChange",value:function(e){if(console.log("changed"),""!=document.getElementById("inputGroupFile02").value){var t=document.getElementById("inputGroupFile02").value.replace("C:\\fakepath\\"," ");document.getElementById("need").innerText=t}else document.getElementById("need").innerText="Choose file*"}},{key:"handleSubmit",value:function(e){var t,a,n,r;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),t=localStorage.getItem("jwt")){s.next=5;break}return s.next=5,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 5:return{headers:{Authorization:"Bearer ".concat(t)}},a=new FormData(e.target),s.prev=7,s.next=10,v.a.awrap(fetch("/api/v1/albums/",{method:"POST",body:a,headers:{Authorization:"Bearer ".concat(t)}}));case 10:return(n=s.sent).ok&&this.props.history.push("/albums"),s.next=14,v.a.awrap(n.json());case 14:if(r=s.sent,console.log("\u0423\u0441\u043f\u0435\u0445:",JSON.stringify(r)),!r.error){s.next=20;break}if(!(r.status=401)){s.next=20;break}return s.next=20,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 20:if("there is already photo with such name"!=r.error){s.next=25;break}return s.next=23,v.a.awrap(this.setState({serverError:r.error}));case 23:s.next=27;break;case 25:return s.next=27,v.a.awrap(this.setState({serverError:"bad input"}));case 27:s.next=32;break;case 29:s.prev=29,s.t0=s.catch(7),console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",s.t0);case 32:case"end":return s.stop()}}),null,this,[[7,29]])}},{key:"render",value:function(){return this.state.authSetted?this.state.auth?(this.state.serverError&&r.a.createElement("div",{class:"errorBox"},this.state.serverError),r.a.createElement("div",{class:"newPhotoStyle"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{class:"font-weight-bolder"},"Create new album"),r.a.createElement("form",{id:"form",onSubmit:this.handleSubmit,enctype:"multipart/form-data"},r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"name")),r.a.createElement("input",{type:"text",name:"name",placeholder:"name",required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("p",{class:"font-weight-bolder"},"season:"),r.a.createElement("div",{class:"form-check-inline"},r.a.createElement("label",{class:"form-check-label",for:"radio1"},r.a.createElement("input",{type:"radio",class:"form-check-input",id:"radio1",name:"season",value:"winter"}),"winter")),r.a.createElement("div",{class:"form-check-inline"},r.a.createElement("label",{class:"form-check-label",for:"radio2"},r.a.createElement("input",{type:"radio",class:"form-check-input",id:"radio2",name:"season",value:"spring"}),"spring")),r.a.createElement("div",{class:"form-check-inline"},r.a.createElement("label",{class:"form-check-label",for:"radio3"},r.a.createElement("input",{type:"radio",class:"form-check-input",id:"radio3",name:"season",value:"summer"}),"summer")),r.a.createElement("div",{class:"form-check-inline"},r.a.createElement("label",{class:"form-check-label",for:"radio4"},r.a.createElement("input",{type:"radio",class:"form-check-input",id:"radio4",name:"season",value:"autumn"}),"autumn")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{class:"font-weight-bolder"},"choose photos:"),this.state.photoNames.map((function(e){return console.log("yaya"),r.a.createElement("div",{class:"form-check-inline"},r.a.createElement("label",{class:"form-check-label"},r.a.createElement("input",{type:"checkbox",class:"form-check-input",name:e.id}),e.name))})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",name:"previewUrl",accept:".jpg,.jpeg,.png",id:"inputGroupFile02"}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile02"},"Choose file"))),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"comment")),r.a.createElement("textarea",{type:"text",name:"description",placeholder:"/description",required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("button",{class:"btn btn btn-primary btn-block",type:"submit"},"post")))):r.a.createElement(P,null):r.a.createElement("div",null)}}]),t}(r.a.Component)),N=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).state={page:1,tag:"",pageNum:1,nextPage:!1,prevPage:!0,listPhotos:[],auth:!1,authSetted:!1},a.proceedState(),a.handleTagChange=a.handleTagChange.bind(Object(S.a)(a)),a.handleNext=a.handleNext.bind(Object(S.a)(a)),a.handlePrev=a.handlePrev.bind(Object(S.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"proceedState",value:function(){var e,t,a,n=this;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log("ok boomer"),e=localStorage.getItem("jwt")){r.next=4;break}return r.abrupt("return");case 4:return t={headers:{Authorization:"Bearer ".concat(e)}},r.next=7,v.a.awrap(fetch("/api/v1/me/",t));case 7:if(!(a=r.sent).ok){r.next=16;break}return r.next=11,v.a.awrap(a.json());case 11:return a=r.sent,r.next=14,v.a.awrap(this.setState({authSetted:!0,auth:!0}));case 14:r.next=18;break;case 16:return r.next=18,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 18:Promise.all([fetch("/api/v1/photos?searching="+this.state.tag+"&owner="+a.id+"&page="+this.state.page,t).then((function(e){return e.json()}))]).then((function(e){var t,a;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(u.a)(e,1),a=t[0],console.log("num ofpages"),console.log(a.pageNumber),r.next=5,v.a.awrap(n.setState({pageNum:a.pageNumber}));case 5:if(!(parseInt(n.state.page)>1)){r.next=10;break}return r.next=8,v.a.awrap(n.setState({prevPage:!0}));case 8:r.next=12;break;case 10:return r.next=12,v.a.awrap(n.setState({prevPage:!1}));case 12:if(!(n.state.page<n.state.pageNum)){r.next=17;break}return r.next=15,v.a.awrap(n.setState({nextPage:!0}));case 15:r.next=19;break;case 17:return r.next=19,v.a.awrap(n.setState({nextPage:!1}));case 19:console.log(a.displayData),void 0!=a.displayData?n.setState({listPhotos:a.displayData}):n.setState({listPhotos:[],pageNum:1}),console.log(n.state.listPhotos);case 22:case"end":return r.stop()}}))}));case 19:case"end":return r.stop()}}),null,this)}},{key:"handleTagChange",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("event"),t.next=3,v.a.awrap(this.setState({tag:e.target.value,page:1}));case 3:return console.log(this.state.tag),t.next=6,v.a.awrap(this.proceedState());case 6:case"end":return t.stop()}}),null,this)}},{key:"handleNext",value:function(e){var t;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("event"),t=this.state.page+1,e.next=4,v.a.awrap(this.setState({page:t}));case 4:return e.next=6,v.a.awrap(this.proceedState());case 6:case"end":return e.stop()}}),null,this)}},{key:"handlePrev",value:function(e){var t;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("event"),t=this.state.page-1,e.next=4,v.a.awrap(this.setState({page:t}));case 4:return e.next=6,v.a.awrap(this.proceedState());case 6:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return this.state.authSetted?this.state.auth?(e=this.state.prevPage?r.a.createElement("button",{onClick:this.handlePrev,id:"prevButton",class:"btn btn-outline-dark"},"prev"):r.a.createElement("button",{onclick:"prev()",id:"prevButton",class:"btn btn-outline-dark",disabled:!0},"prev"),t=this.state.nextPage?r.a.createElement("button",{onClick:this.handleNext,id:"prevButton",class:"btn btn-outline-dark"},"next"):r.a.createElement("button",{id:"prevButton",class:"btn btn-outline-dark",disabled:!0},"next"),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{class:"form-inline mt-2 mt-md-0 marginlelt"},r.a.createElement("label",{for:"searh",id:"heading"},"current photo list:"),r.a.createElement("input",{onChange:this.handleTagChange,class:"form-control mr-sm-2 marginleltmore",id:"search",type:"text",placeholder:"Search",name:"searching"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{class:"album py-4 bg-light"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row",id:"parentElement"},this.state.listPhotos.map((function(e){return r.a.createElement("div",{class:"col-md-3",style:{display:"inline-block"}},r.a.createElement("div",{class:"card mb-3 shadow-sm"},r.a.createElement("svg",{class:"bd-placeholder-img card-img-top",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img","aria-label":"Placeholder: Thumbnail"},r.a.createElement("image",{href:e.url,alt:e.name,width:"100%",height:"100%",x:"0",y:"0"})),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"d-flex justify-content-between align-items-center"},r.a.createElement("div",{class:"btn-group"},r.a.createElement(c.b,{to:"/photos/"+e._id,class:"btn btn-sm btn-outline-secondary"},"View")),r.a.createElement("small",{class:"text-muted"},e.name)))))}))))),r.a.createElement("p",null),r.a.createElement("br",null),r.a.createElement("div",{style:{"text-align":"center"}},e,r.a.createElement("span",{id:"page"},this.state.page),"/",r.a.createElement("span",{id:"pagenum"},this.state.pageNum),t))):r.a.createElement(P,null):r.a.createElement("div",null);var e,t}}]),t}(r.a.Component),D=a(23),U=a(32),G=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).state={photo:{},user:{},editButton:!1,deleteButton:!1,buyButton:!1,errorStatus:200,modalShow:!1,authSetted:!1},a.handleBuy=a.handleBuy.bind(Object(S.a)(a)),a.handleDelete=a.handleDelete.bind(Object(S.a)(a)),a.getPhoto(e.match.params.id),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"handleBuy",value:function(){var e,t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("bought"),e=localStorage.getItem("jwt")){a.next=5;break}return a.next=5,v.a.awrap(this.setState({errorStatus:"401"}));case 5:return t={method:"PUT",headers:{Authorization:"Bearer ".concat(e)}},a.next=8,v.a.awrap(fetch("/api/v1/photos/"+this.props.match.params.id+"?owner="+this.state.user.id,t));case 8:return a.sent,a.next=11,v.a.awrap(this.setState({buyButton:!1,editButton:!0,deleteButton:!0}));case 11:case"end":return a.stop()}}),null,this)}},{key:"getPhoto",value:function(e){var t,a,n,r,s,l,c;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=localStorage.getItem("jwt")){o.next=4;break}return o.next=4,v.a.awrap(this.setState({authSetted:!0,errorStatus:"401"}));case 4:return a={headers:{Authorization:"Bearer ".concat(t)}},o.next=7,v.a.awrap(fetch("/api/v1/me/",a));case 7:if(!(n=o.sent).ok){o.next=18;break}return o.next=11,v.a.awrap(n.json());case 11:return n=o.sent,console.log("user"),console.log(n),o.next=16,v.a.awrap(this.setState({authSetted:!0,user:n}));case 16:o.next=19;break;case 18:this.setState({authSetted:!0,errorStatus:"401"});case 19:return o.next=21,v.a.awrap(fetch("/api/v1/photos/"+e,a));case 21:if(!(r=o.sent).ok){o.next=35;break}return o.next=25,v.a.awrap(r.json());case 25:return r=o.sent,console.log(r),s={era:"short",year:"numeric",month:"long",day:"numeric",weekday:"long",timezone:"UTC",hour:"numeric",minute:"numeric",second:"numeric"},l=Date.parse(r.date),l=new Date(l),r.date=l.toLocaleString("en-US",s),o.next=33,v.a.awrap(this.setState({photo:r}));case 33:o.next=47;break;case 35:if(404!=r.status){o.next=42;break}return console.log("404"),o.next=39,v.a.awrap(this.setState({errorStatus:404}));case 39:return o.abrupt("return");case 42:if(401!=r.status){o.next=47;break}return console.log("401"),o.next=46,v.a.awrap(this.setState({authSetted:!0,errorStatus:401}));case 46:return o.abrupt("return");case 47:if(c=!1,this.state.photo&&this.state.photo.owner&&(c=this.state.photo.owner.toString()==this.state.user.id.toString()||this.state.user.role),this.state.photo.owner.toString()==this.state.user.id.toString()){o.next=52;break}return o.next=52,v.a.awrap(this.setState({buyButton:!0}));case 52:return this.state.user.role&&(c=!0),o.next=55,v.a.awrap(this.setState({editButton:c,deleteButton:c}));case 55:case"end":return o.stop()}}),null,this)}},{key:"handleDelete",value:function(e){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("event");case 1:case"end":return e.stop()}}))}},{key:"render",value:function(){var e,t,a=this;return this.state.authSetted?(console.log(this.state.errorStatus),401==this.state.errorStatus?r.a.createElement(P,null):404==this.state.errorStatus?r.a.createElement(B,null):(this.state.editButton&&(e=r.a.createElement("div",{class:"padik"},r.a.createElement(c.b,{to:"/editphoto/"+this.state.photo._id}," ",r.a.createElement("button",{class:"btn btn-outline-dark inlineBlock",type:"submit",value:"Delete"},"Edit")),r.a.createElement("button",{style:{marginLeft:".4em"},class:"btn btn-outline-dark inlineBlock",onClick:function(){return a.setState({modalShow:!0})},value:"Delete"},"Delete"))),this.state.buyButton&&(t=r.a.createElement("button",{class:"btn btn-outline-dark inlineBlock",onClick:this.handleBuy,value:"Buy"},"Buy")),r.a.createElement("div",{class:"photoContainer"},r.a.createElement("div",{class:"photo"},r.a.createElement("img",{src:this.state.photo.url,class:"img-thumbnail photo1 "})),r.a.createElement("div",{class:"photoInfo"},"Name: ",this.state.photo.name,r.a.createElement("p",null,"Author: ",this.state.photo.author),r.a.createElement("p",null,"price :",this.state.photo.price," $"),r.a.createElement("p",null,"Date: ",this.state.photo.date),e," ",t),r.a.createElement(z,{show:this.state.modalShow,onHide:function(){return a.setState({modalShow:!1})},id:this.props.match.params.id,history:this.props.history})))):r.a.createElement("div",null)}}]),t}(r.a.Component);function z(e){console.log(e);return r.a.createElement(D.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(D.a.Header,{closeButton:!0},r.a.createElement(D.a.Title,{id:"contained-modal-title-vcenter"},"Confirm deletion")),r.a.createElement(D.a.Body,null,r.a.createElement("p",null,"you won't have access to this photo any more")),r.a.createElement(D.a.Footer,null,r.a.createElement(U.a,{onClick:function(t){console.log("delete");var a=localStorage.getItem("jwt"),n={headers:{Authorization:"Bearer ".concat(a)},method:"DELETE"};fetch("/api/v1/photos/"+e.id,n).then((function(t){e.history.push("/photos"),console.log(t.json())}))}},"Delete"),r.a.createElement(U.a,{onClick:e.onHide},"Close")))}var L=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).state={album:{},displayPhotos:[],page:1,user:{},editButton:!1,deleteButton:!1,next:!1,prev:!1,errorStatus:200,modalShow:!1,authSetted:!1},a.prevPage=a.prevPage.bind(Object(S.a)(a)),a.nextPage=a.nextPage.bind(Object(S.a)(a)),a.handleDelete=a.handleDelete.bind(Object(S.a)(a)),a.getAlbum(e.match.params.id),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"changePhotos",value:function(){var e,t,a,n,r;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e=localStorage.getItem("jwt")){s.next=4;break}return s.next=4,v.a.awrap(this.setState({errorStatus:"401",authSetted:!0}));case 4:t={headers:{Authorization:"Bearer ".concat(e)}},a=[],n=this.state.page-1;case 7:if(!(n<this.state.page+3&&n<this.state.album.photos.length)){s.next=19;break}return s.next=10,v.a.awrap(fetch("/api/v1/photos/"+this.state.album.photos[n],t));case 10:return r=s.sent,s.next=13,v.a.awrap(r.json());case 13:r=s.sent,console.log(r),a.push(r);case 16:n++,s.next=7;break;case 19:if(!(this.state.page>1)){s.next=24;break}return s.next=22,v.a.awrap(this.setState({prev:!0}));case 22:s.next=26;break;case 24:return s.next=26,v.a.awrap(this.setState({prev:!1}));case 26:if(!(this.state.page<this.state.album.photos.length-3)){s.next=31;break}return s.next=29,v.a.awrap(this.setState({next:!0}));case 29:s.next=33;break;case 31:return s.next=33,v.a.awrap(this.setState({next:!1}));case 33:return s.next=35,v.a.awrap(this.setState({displayPhotos:a}));case 35:case"end":return s.stop()}}),null,this)}},{key:"prevPage",value:function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.awrap(this.setState({page:this.state.page-1}));case 2:return e.next=4,v.a.awrap(this.changePhotos());case 4:case"end":return e.stop()}}),null,this)}},{key:"nextPage",value:function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.awrap(this.setState({page:this.state.page+1}));case 2:return e.next=4,v.a.awrap(this.changePhotos());case 4:case"end":return e.stop()}}),null,this)}},{key:"getAlbum",value:function(e){var t,a,n,r,s;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=localStorage.getItem("jwt")){l.next=4;break}return l.next=4,v.a.awrap(this.setState({errorStatus:"401"}));case 4:return a={headers:{Authorization:"Bearer ".concat(t)}},l.next=7,v.a.awrap(fetch("/api/v1/me/",a));case 7:if(!(n=l.sent).ok){l.next=18;break}return l.next=11,v.a.awrap(n.json());case 11:return n=l.sent,console.log("user"),console.log(n),l.next=16,v.a.awrap(this.setState({user:n}));case 16:l.next=19;break;case 18:this.setState({errorStatus:"401"});case 19:return l.next=21,v.a.awrap(fetch("/api/v1/albums/"+e,a));case 21:if(!(r=l.sent).ok){l.next=31;break}return l.next=25,v.a.awrap(r.json());case 25:return r=l.sent,console.log(r),l.next=29,v.a.awrap(this.setState({album:r,authSetted:!0}));case 29:l.next=47;break;case 31:if(404!=r.status){l.next=38;break}return console.log("404"),l.next=35,v.a.awrap(this.setState({errorStatus:404}));case 35:return l.abrupt("return");case 38:if(401!=r.status){l.next=45;break}return console.log("401"),l.next=42,v.a.awrap(this.setState({errorStatus:401,authSetted:!0}));case 42:return l.abrupt("return");case 45:return l.next=47,v.a.awrap(this.setState({authSetted:!0}));case 47:return l.next=49,v.a.awrap(this.changePhotos());case 49:return s=!1,this.state.album&&this.state.album.owner&&(s=this.state.album.owner.toString()==this.state.user.id.toString()||this.state.user.role),this.state.user.role&&(s=!0),l.next=54,v.a.awrap(this.setState({editButton:s,deleteButton:s}));case 54:case"end":return l.stop()}}),null,this)}},{key:"handleDelete",value:function(e){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("event");case 1:case"end":return e.stop()}}))}},{key:"render",value:function(){var e,t,a,n=this;return this.state.authSetted?(console.log(this.state.errorStatus),401==this.state.errorStatus?r.a.createElement(P,null):404==this.state.errorStatus?r.a.createElement(B,null):(this.state.editButton&&(e=r.a.createElement("button",{class:"btn btn-outline-dark inlineBlock",onClick:function(){return n.setState({modalShow:!0})},value:"Delete"},"Delete")),this.state.prev&&(t=r.a.createElement("button",{class:"btn btn-outline-dark inlineBlock vC",onClick:this.prevPage,value:"prev"}," \u21d0 ")),this.state.next&&(a=r.a.createElement("button",{class:"btn btn-outline-dark inlineBlock vC",onClick:this.nextPage,value:"next"},"\u21d2 ")),r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{minHeight:"300px"}},r.a.createElement("div",{class:"albumContainer"},r.a.createElement("div",{class:"photo"},r.a.createElement("img",{src:this.state.album.previewUrl,class:"img-thumbnail album1 "})),r.a.createElement("div",{class:"photoInfo"},"Name: ",this.state.album.name,r.a.createElement("p",null,"Author: ",this.state.album.author),e),r.a.createElement(F,{show:this.state.modalShow,onHide:function(){return n.setState({modalShow:!1})},id:this.props.match.params.id,history:this.props.history}))),r.a.createElement("div",{class:"row",style:{margin:"0"}},r.a.createElement("div",{class:"col-md-2"},t),this.state.displayPhotos.map((function(e){return null!=e?(console.log("album"),console.log(e),r.a.createElement("div",{class:"col-md-2",style:{display:"inline-block"}},r.a.createElement("div",{class:"card mb-3 shadow-sm"},r.a.createElement("svg",{class:"bd-placeholder-img card-img-top",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img","aria-label":"Placeholder: Thumbnail"},r.a.createElement("image",{href:e.url,alt:e.name,width:"100%",height:"100%",x:"0",y:"0"})),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"d-flex justify-content-between align-items-center"},r.a.createElement("div",{class:"btn-group"},r.a.createElement(c.b,{to:"/photos/"+e._id,class:"btn btn-sm btn-outline-secondary"},"View")),r.a.createElement("small",{class:"text-muted"},e.name)))))):r.a.createElement("div",{class:"chetv"})})),r.a.createElement("div",{class:"col-md-2"},a))))):r.a.createElement("div",null)}}]),t}(r.a.Component);function F(e){console.log(e);return r.a.createElement(D.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(D.a.Header,{closeButton:!0},r.a.createElement(D.a.Title,{id:"contained-modal-title-vcenter"},"Confirm deletion")),r.a.createElement(D.a.Body,null,r.a.createElement("p",null,"you won't have access to this album any more")),r.a.createElement(D.a.Footer,null,r.a.createElement(U.a,{onClick:function(t){console.log("delete");var a=localStorage.getItem("jwt"),n={headers:{Authorization:"Bearer ".concat(a)},method:"DELETE"};fetch("/api/v1/albums/"+e.id,n).then((function(t){e.history.push("/albums"),console.log(t.json())}))}},"Delete"),r.a.createElement(U.a,{onClick:e.onHide},"Close")))}var _=function(e){function t(e){var a;return Object(f.a)(this,t),a=Object(w.a)(this,Object(y.a)(t).call(this,e)),console.log(e.match.params.id),a.getPhoto(e.match.params.id),a.state={photo:{},user:{},error:!1,can:!1,serverError:!1,auth:!0,authSetted:!1,errorStatus:200},a.handleSubmit=a.handleSubmit.bind(Object(S.a)(a)),a.handlePriceInput=a.handlePriceInput.bind(Object(S.a)(a)),a.handleNameInput=a.handleNameInput.bind(Object(S.a)(a)),a.handlePhotoChange=a.handlePhotoChange.bind(Object(S.a)(a)),a.handleAuthorInput=a.handleAuthorInput.bind(Object(S.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"handlePriceInput",value:function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=this.state.photo).price=e.target.value,a.next=4,v.a.awrap(this.setState({photo:t}));case 4:case"end":return a.stop()}}),null,this)}},{key:"handleSubmit",value:function(e){var t,a,n,r;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),t=new FormData(e.target),a=localStorage.getItem("jwt")){s.next=6;break}return alert("JWT is missing. Log in first"),s.abrupt("return");case 6:return s.prev=6,s.next=9,v.a.awrap(fetch("/api/v1/photos/"+this.props.match.params.id,{method:"PUT",body:t,headers:{Authorization:"Bearer ".concat(a)}}));case 9:return n=s.sent,s.next=12,v.a.awrap(n.json());case 12:r=s.sent,console.log("response:",JSON.stringify(r)),r.error?"there is already photo with such name"==r.error?this.setState({serverError:r.error}):this.setState({serverError:"bad input"}):this.props.history.push("/photos/"+this.props.match.params.id),s.next=19;break;case 17:s.prev=17,s.t0=s.catch(6);case 19:case"end":return s.stop()}}),null,this,[[6,17]])}},{key:"handleNameInput",value:function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=this.state.photo).name=e.target.value,a.next=4,v.a.awrap(this.setState({photo:t}));case 4:case"end":return a.stop()}}),null,this)}},{key:"handleAuthorInput",value:function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=this.state.photo).author=e.target.value,a.next=4,v.a.awrap(this.setState({photo:t}));case 4:case"end":return a.stop()}}),null,this)}},{key:"handlePhotoChange",value:function(e){if(console.log("changed"),""!=document.getElementById("inputGroupFile02").value){var t=document.getElementById("inputGroupFile02").value.replace("C:\\fakepath\\"," ");document.getElementById("need").innerText=t}else document.getElementById("need").innerText="Choose file"}},{key:"getPhoto",value:function(e){var t,a,n,r,s;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=localStorage.getItem("jwt")){l.next=6;break}return alert("JWT is missing. Log in first"),l.next=5,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 5:return l.abrupt("return");case 6:return a={headers:{Authorization:"Bearer ".concat(t)}},l.next=9,v.a.awrap(fetch("/api/v1/me/",a));case 9:if(!(n=l.sent).ok){l.next=22;break}return l.next=13,v.a.awrap(this.setState({authSetted:!0,auth:!0}));case 13:return l.next=15,v.a.awrap(n.json());case 15:return n=l.sent,console.log("user"),console.log(n),l.next=20,v.a.awrap(this.setState({user:n}));case 20:l.next=27;break;case 22:return l.next=24,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 24:return l.next=26,v.a.awrap(this.setState({error:"not authorized",errorStatus:401}));case 26:return l.abrupt("return");case 27:return l.next=29,v.a.awrap(fetch("/api/v1/photos/"+e,a));case 29:if(!(r=l.sent).ok){l.next=39;break}return l.next=33,v.a.awrap(r.json());case 33:return r=l.sent,console.log(r),l.next=37,v.a.awrap(this.setState({photo:r}));case 37:l.next=43;break;case 39:return console.log("hmm"),l.next=42,v.a.awrap(this.setState({error:"no such photo",errorStatus:404}));case 42:return l.abrupt("return");case 43:return s=!1,this.state.photo&&this.state.photo.owner&&(s=this.state.photo.owner.toString()==this.state.user.id.toString()),this.state.user.role&&(s=!0),l.next=48,v.a.awrap(this.setState({can:s}));case 48:case"end":return l.stop()}}),null,this)}},{key:"render",value:function(){return this.state.authSetted?401==this.state.errorStatus?r.a.createElement(P,null):404==this.state.errorStatus?r.a.createElement(B,null):(this.state.can||(e="you don't have rights to edit this photo"),this.state.error&&(e=this.state.error),t=e?r.a.createElement("div",{class:"errorBox"},e):r.a.createElement("div",{class:"photoContainer"},r.a.createElement("div",{class:"new"},r.a.createElement("img",{src:this.state.photo.url,class:"img-thumbnail photo1"})),r.a.createElement("div",{class:"photoInfo"},this.state.serverError,r.a.createElement("form",{onSubmit:this.handleSubmit,enctype:"multipart/form-data"},r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"name")),r.a.createElement("input",{type:"text",onChange:this.handleNameInput,value:this.state.photo.name,name:"name",placeholder:"name",required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"author")),r.a.createElement("input",{type:"text",onChange:this.handleAuthorInput,value:this.state.photo.author,name:"author",placeholder:"author",required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"price")),r.a.createElement("input",{type:"number",id:"price",onChange:this.handlePriceInput,name:"price",value:this.state.photo.price,placeholder:"price",required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",name:"url",onChange:this.handlePhotoChange,accept:".jpg,.jpeg,.png",id:"inputGroupFile02"}),r.a.createElement("label",{class:"custom-file-label butt",id:"need",for:"inputGroupFile02"},"Choose file"))),r.a.createElement("button",{class:"btn btn btn-primary btn-block",type:"submit"},"save changes")))),r.a.createElement("div",null,t)):r.a.createElement("div",null);var e,t}}]),t}(r.a.Component),R=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).state={page:1,tag:"",pageNum:1,nextPage:!1,prevPage:!0,listAlbums:[],season:"any",auth:!1,authSetted:!1},a.proceedState(),a.radiochange=a.radiochange.bind(Object(S.a)(a)),a.handleTagChange=a.handleTagChange.bind(Object(S.a)(a)),a.handleNext=a.handleNext.bind(Object(S.a)(a)),a.handlePrev=a.handlePrev.bind(Object(S.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"radiochange",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.target.value),t.next=3,v.a.awrap(this.setState({page:1,season:e.target.value}));case 3:return t.next=5,v.a.awrap(this.proceedState());case 5:case"end":return t.stop()}}),null,this)}},{key:"proceedState",value:function(){var e,t,a,n=this;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:console.log("ok boomer"),(e=localStorage.getItem("jwt"))||this.setState({authSetted:!0,auth:!1}),t="","any"!=this.state.season&&(t="&season="+this.state.season),a={headers:{Authorization:"Bearer ".concat(e)}},Promise.all([fetch("/api/v1/albums?searching="+this.state.tag+"&page="+this.state.page+t,a).then((function(e){return e.json()})),fetch("/api/v1/me",a)]).then((function(e){var t,a;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(u.a)(e,2),a=t[0],t[1].ok?n.setState({authSetted:!0,auth:!0}):n.setState({authSetted:!0,auth:!1}),console.log("num ofpages"),console.log(a.pageNumber),r.next=6,v.a.awrap(n.setState({pageNum:a.pageNumber}));case 6:if(!(parseInt(n.state.page)>1)){r.next=11;break}return r.next=9,v.a.awrap(n.setState({prevPage:!0}));case 9:r.next=13;break;case 11:return r.next=13,v.a.awrap(n.setState({prevPage:!1}));case 13:if(!(n.state.page<n.state.pageNum)){r.next=18;break}return r.next=16,v.a.awrap(n.setState({nextPage:!0}));case 16:r.next=20;break;case 18:return r.next=20,v.a.awrap(n.setState({nextPage:!1}));case 20:console.log(a.displayData),void 0!=a.displayData?n.setState({listAlbums:a.displayData}):n.setState({listAlbums:[],pageNum:1}),console.log(n.state.listAlbums);case 23:case"end":return r.stop()}}))}));case 7:case"end":return r.stop()}}),null,this)}},{key:"handleTagChange",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("event"),t.next=3,v.a.awrap(this.setState({tag:e.target.value,page:1}));case 3:return console.log(this.state.tag),t.next=6,v.a.awrap(this.proceedState());case 6:case"end":return t.stop()}}),null,this)}},{key:"handleNext",value:function(e){var t;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("event"),t=this.state.page+1,e.next=4,v.a.awrap(this.setState({page:t}));case 4:return e.next=6,v.a.awrap(this.proceedState());case 6:case"end":return e.stop()}}),null,this)}},{key:"handlePrev",value:function(e){var t;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("event"),t=this.state.page-1,e.next=4,v.a.awrap(this.setState({page:t}));case 4:return e.next=6,v.a.awrap(this.proceedState());case 6:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){if(!this.state.authSetted)return r.a.createElement("div",null);if(!this.state.auth)return r.a.createElement(P,null);for(var e,t;this.state.listAlbums.length<3;){this.state.listAlbums.push(null)}return 0!=this.state.listAlbums.length&&(e=this.state.prevPage?r.a.createElement("button",{onClick:this.handlePrev,id:"prevButton",class:"btn btn-outline-dark"},"prev"):r.a.createElement("button",{onclick:"prev()",id:"prevButton",class:"btn btn-outline-dark",disabled:!0},"prev")),0!=this.state.listAlbums.length&&(t=this.state.nextPage?r.a.createElement("button",{onClick:this.handleNext,id:"prevButton",class:"btn btn-outline-dark"},"next"):r.a.createElement("button",{id:"prevButton",class:"btn btn-outline-dark",disabled:!0},"next")),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{class:"form-inline mt-2 mt-md-0 marginlelt"},r.a.createElement("label",{for:"searh",id:"heading"},"current album list:"),r.a.createElement("input",{onChange:this.handleTagChange,class:"form-control mr-sm-2 marginleltmore",id:"search",type:"text",placeholder:"Search",name:"searching"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{class:"album py-4 bg-light"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row",id:"parentElement"},this.state.listAlbums.map((function(e){return null!=e?(console.log("album"),console.log(e),r.a.createElement("div",{class:"col-md-3",style:{display:"inline-block"}},r.a.createElement("div",{class:"card mb-3 shadow-sm"},r.a.createElement("svg",{class:"bd-placeholder-img card-img-top",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img","aria-label":"Placeholder: Thumbnail"},r.a.createElement("image",{href:e.previewUrl,alt:e.name,width:"100%",height:"100%",x:"0",y:"0"})),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"d-flex justify-content-between align-items-center"},r.a.createElement("div",{class:"btn-group"},r.a.createElement(c.b,{to:"/albums/"+e._id,class:"btn btn-sm btn-outline-secondary"},"View")),r.a.createElement("small",{class:"text-muted"},e.name)))))):r.a.createElement("div",{class:"chetv"})})),r.a.createElement("div",{class:"col-md-3 rightFloat"},r.a.createElement("div",{class:"marginR"},"season:",r.a.createElement("fieldset",{class:"form-group",onChange:this.radiochange},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-10"},r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios1",value:"any"}),r.a.createElement("label",{class:"form-check-label",for:"gridRadios1"},"any")),r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios2",value:"winter"}),r.a.createElement("label",{class:"form-check-label",for:"gridRadios2"},"winter")),r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios2",value:"spring"}),r.a.createElement("label",{class:"form-check-label",for:"gridRadios2"},"spring")),r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios2",value:"summer"}),r.a.createElement("label",{class:"form-check-label",for:"gridRadios2"},"summer")),r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios2",value:"fall"}),r.a.createElement("label",{class:"form-check-label",for:"gridRadios2"},"fall")))))))))),r.a.createElement("p",null),r.a.createElement("br",null),r.a.createElement("div",{style:{"text-align":"center"}},e,r.a.createElement("span",{id:"page"},this.state.page),"/",r.a.createElement("span",{id:"pagenum"},this.state.pageNum),t))}}]),t}(r.a.Component);a(51);function J(e){return r.a.createElement("div",{class:"indexText",style:{marginLeft:"0",minWidth:"100%",textAlign:"center"}},r.a.createElement("div",{class:"d-flex justify-content-center align-items-center heigthMan",id:"main"},r.a.createElement("h1",{class:"mr-3 pr-3 align-top border-right inline-block align-content-center"},"403"),r.a.createElement("div",{class:"inline-block align-middle"},r.a.createElement("h2",{class:"font-weight-normal lead ",id:"desc"},"you don't have rights to visit this page"))))}var q=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).state={page:1,tag:"",pageNum:1,nextPage:!1,prevPage:!0,listUsers:[],authSetted:!1,auth:!1,adm:!1},a.proceedState(),a.handleTagChange=a.handleTagChange.bind(Object(S.a)(a)),a.handleNext=a.handleNext.bind(Object(S.a)(a)),a.handlePrev=a.handlePrev.bind(Object(S.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"proceedState",value:function(){var e,t,a=this;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("ok boomer"),e=localStorage.getItem("jwt")){n.next=6;break}return n.next=5,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 5:return n.abrupt("return");case 6:t={headers:{Authorization:"Bearer ".concat(e)}},Promise.all([fetch("/api/v1/users?searching="+this.state.tag+"&page="+this.state.page,t),fetch("/api/v1/me/",t)]).then((function(e){var t,n,r,s,l,c,o;return v.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=Object(u.a)(e,2),n=t[0],r=t[1],i.next=3,v.a.awrap(n.json());case 3:if(n=i.sent,!r.ok){i.next=9;break}return i.next=7,v.a.awrap(a.setState({authSetted:!0,auth:!0}));case 7:i.next=12;break;case 9:return i.next=11,v.a.awrap(a.setState({authSetted:!0,auth:!1}));case 11:return i.abrupt("return");case 12:return i.next=14,v.a.awrap(r.json());case 14:if(s=i.sent,console.log("tmpUser"),console.log(s),1!=s.role){i.next=20;break}return i.next=20,v.a.awrap(a.setState({adm:!0}));case 20:return console.log("num ofpages"),console.log(n.pageNumber),i.next=24,v.a.awrap(a.setState({pageNum:n.pageNumber}));case 24:if(!(parseInt(a.state.page)>1)){i.next=29;break}return i.next=27,v.a.awrap(a.setState({prevPage:!0}));case 27:i.next=31;break;case 29:return i.next=31,v.a.awrap(a.setState({prevPage:!1}));case 31:if(!(a.state.page<a.state.pageNum)){i.next=36;break}return i.next=34,v.a.awrap(a.setState({nextPage:!0}));case 34:i.next=38;break;case 36:return i.next=38,v.a.awrap(a.setState({nextPage:!1}));case 38:if(console.log(n.displayData),l={era:"short",year:"numeric",month:"long",day:"numeric",weekday:"long",timezone:"UTC",hour:"numeric",minute:"numeric",second:"numeric"},void 0!=n.displayData){for(c=0;c<n.displayData.length;c++)n.displayData[c]&&(n.displayData[c].num=3*a.state.page-2+c,o=Date.parse(n.displayData[c].registeredAt),o=new Date(o),n.displayData[c].registeredAt=o.toLocaleString("en-US",l));a.setState({listUsers:n.displayData})}else a.setState({listUsers:[],pageNum:1});console.log(a.state.listUsers);case 42:case"end":return i.stop()}}))})).catch((function(e){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.awrap(a.setState({authSetted:!0,auth:!1}));case 2:case"end":return e.stop()}}))}));case 8:case"end":return n.stop()}}),null,this)}},{key:"handleTagChange",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("event"),t.next=3,v.a.awrap(this.setState({tag:e.target.value,page:1}));case 3:return console.log(this.state.tag),t.next=6,v.a.awrap(this.proceedState());case 6:case"end":return t.stop()}}),null,this)}},{key:"handleNext",value:function(e){var t;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("event"),t=this.state.page+1,e.next=4,v.a.awrap(this.setState({page:t}));case 4:return e.next=6,v.a.awrap(this.proceedState());case 6:case"end":return e.stop()}}),null,this)}},{key:"handlePrev",value:function(e){var t;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("event"),t=this.state.page-1,e.next=4,v.a.awrap(this.setState({page:t}));case 4:return e.next=6,v.a.awrap(this.proceedState());case 6:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return this.state.authSetted?(console.log("this.state.auth"),console.log(this.state.auth),this.state.auth?this.state.adm?(e=this.state.prevPage?r.a.createElement("button",{onClick:this.handlePrev,id:"prevButton",class:"btn btn-outline-dark"},"prev"):r.a.createElement("button",{onclick:"prev()",id:"prevButton",class:"btn btn-outline-dark",disabled:!0},"prev"),t=this.state.nextPage?r.a.createElement("button",{onClick:this.handleNext,id:"prevButton",class:"btn btn-outline-dark"},"next"):r.a.createElement("button",{id:"prevButton",class:"btn btn-outline-dark",disabled:!0},"next"),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{class:"form-inline mt-2 mt-md-0 marginlelt"},r.a.createElement("label",{for:"searh",id:"heading"},"current user list:"),r.a.createElement("input",{onChange:this.handleTagChange,class:"form-control mr-sm-2 marginleltmore",id:"search",type:"text",placeholder:"Search",name:"searching"})),r.a.createElement("br",null),r.a.createElement("div",{class:"tableUsers"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"login"),r.a.createElement("th",{scope:"col"},"fullname"),r.a.createElement("th",{scope:"col"},"registretedAt"))),r.a.createElement("tbody",null,this.state.listUsers.map((function(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},e.num),r.a.createElement("td",null,r.a.createElement(c.b,{to:"/users/"+e.id},e.login)),r.a.createElement("td",null,e.fullname),r.a.createElement("td",null,e.registeredAt))}))))),r.a.createElement("div",{style:{"text-align":"center"}},e,r.a.createElement("span",{id:"page"},this.state.page),"/",r.a.createElement("span",{id:"pagenum"},this.state.pageNum),t))):r.a.createElement(J,null):r.a.createElement(P,null)):r.a.createElement("div",null);var e,t}}]),t}(r.a.Component),W=a(47),H=function(e){function t(e){var a;return Object(f.a)(this,t),a=Object(w.a)(this,Object(y.a)(t).call(this,e)),console.log(e.match.params.id),a.getUser(e.match.params.id),a.state={previewUser:{},user:{},editButton:!1,deleteButton:!1,errorStatus:200,auth:!1,authSetted:!1},a.handleDelete=a.handleDelete.bind(Object(S.a)(a)),a.handleChangeRights=a.handleChangeRights.bind(Object(S.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"getUser",value:function(e){var t,a,n,r,s;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=localStorage.getItem("jwt")){l.next=5;break}return l.next=4,v.a.awrap(this.setState({authSetted:!0}));case 4:return l.abrupt("return");case 5:return a={headers:{Authorization:"Bearer ".concat(t)}},l.next=8,v.a.awrap(fetch("/api/v1/me/",a));case 8:if(!(n=l.sent).ok){l.next=21;break}return l.next=12,v.a.awrap(n.json());case 12:return n=l.sent,l.next=15,v.a.awrap(this.setState({authSetted:!0,auth:!0}));case 15:return console.log("user"),console.log(n),l.next=19,v.a.awrap(this.setState({user:n}));case 19:l.next=24;break;case 21:return l.next=23,v.a.awrap(this.setState({authSetted:!0,auth:!1}));case 23:return l.abrupt("return");case 24:return l.next=26,v.a.awrap(fetch("/api/v1/users/"+e,a));case 26:if(r=l.sent,console.log("response:"),console.log(r),!r.ok){l.next=39;break}return l.next=32,v.a.awrap(r.json());case 32:return r=l.sent,console.log(r),r.avaUrl||(r.avaUrl="http://res.cloudinary.com/dksfym6ok/image/upload/v1575476141/asd.png"),l.next=37,v.a.awrap(this.setState({previewUser:r}));case 37:l.next=41;break;case 39:return l.next=41,v.a.awrap(this.setState({serverError:404}));case 41:return s=!1,this.state.previewUser&&this.state.previewUser.owner&&(s=this.state.previewUser.owner.toString()==this.state.user.id.toString()||this.state.user.role),l.next=45,v.a.awrap(this.setState({editButton:s,deleteButton:s}));case 45:case"end":return l.stop()}}),null,this)}},{key:"handleDelete",value:function(e){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("changing");case 1:case"end":return e.stop()}}))}},{key:"handleChangeRights",value:function(e){var t,a,n,r;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("changing"),(t=this.state.previewUser).role=!this.state.previewUser.role,e.next=5,v.a.awrap(this.setState({previewUser:t}));case 5:return a=localStorage.getItem("jwt"),n={headers:{Authorization:"Bearer ".concat(a)},method:"PUT"},e.next=9,v.a.awrap(fetch("/api/v1/users/"+this.props.match.params.id+"?role="+this.state.previewUser.role,n));case 9:if(!(r=e.sent).ok){e.next=16;break}return e.next=13,v.a.awrap(r.json());case 13:r=e.sent,console.log("user"),console.log(r);case 16:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return this.state.authSetted?this.state.auth?404==this.state.serverError?r.a.createElement(B,null):(this.state.user.id==this.state.previewUser.id&&(e=r.a.createElement("div",null,r.a.createElement(c.b,{to:"/myphotos"},r.a.createElement("input",{class:"btn btn-secondary",type:"submit",value:"my photos"})),r.a.createElement("br",null),r.a.createElement("br",null))),(this.state.user.id==this.state.previewUser.id||this.state.user.role)&&(t=r.a.createElement("div",null,r.a.createElement(c.b,{to:"/editusers/"+this.state.previewUser.id}," ",r.a.createElement("input",{class:"btn btn-secondary",type:"submit",value:"edit"})),r.a.createElement("br",null),r.a.createElement("br",null))),this.state.user.role&&(a=this.state.previewUser.role?r.a.createElement("input",{class:"btn btn-secondary",onClick:this.handleChangeRights,type:"submit",value:"switch rigths to ordinary user"}):r.a.createElement("input",{class:"btn btn-secondary",onClick:this.handleChangeRights,type:"submit",value:"switch rigths to superuser"})),r.a.createElement("div",{class:"container magrinTop30"},r.a.createElement("div",{class:"marginLeft20"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"img"},r.a.createElement("img",{src:this.state.previewUser.avaUrl,class:"img-thumbnail userImage"}))),r.a.createElement("div",Object(W.a)({class:"col-sm-4"},"class","padiingLeft"),r.a.createElement("h3",null,"About User"),"Login: ",this.state.previewUser.login,r.a.createElement("p",null,"Fullname: ",this.state.previewUser.fullname),e,t,a))))):r.a.createElement(P,null):r.a.createElement("div",null);var e,t,a}}]),t}(r.a.Component),M=function(e){function t(e){var a;return Object(f.a)(this,t),a=Object(w.a)(this,Object(y.a)(t).call(this,e)),console.log(e.match.params.id),a.getUser(e.match.params.id),a.state={previewUser:{},user:{},error:!1,can:!1,serverError:!1,authSetted:!1},a.handleSubmit=a.handleSubmit.bind(Object(S.a)(a)),a.handlePriceInput=a.handlePriceInput.bind(Object(S.a)(a)),a.handleLoginInput=a.handleLoginInput.bind(Object(S.a)(a)),a.handleFullnameInput=a.handleFullnameInput.bind(Object(S.a)(a)),a.handleAvaChange=a.handleAvaChange.bind(Object(S.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"handlePriceInput",value:function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=this.state.previewUser).price=e.target.value,a.next=4,v.a.awrap(this.setState({previewUser:t}));case 4:case"end":return a.stop()}}),null,this)}},{key:"handleAvaChange",value:function(e){if(console.log("changed"),""!=document.getElementById("inputGroupFile02").value){var t=document.getElementById("inputGroupFile02").value.replace("C:\\fakepath\\"," ");document.getElementById("need").innerText=t}else document.getElementById("need").innerText="Choose file"}},{key:"handleSubmit",value:function(e){var t,a,n,r;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),t=new FormData(e.target),a=localStorage.getItem("jwt")){s.next=6;break}return alert("JWT is missing. Log in first"),s.abrupt("return");case 6:return s.prev=6,s.next=9,v.a.awrap(fetch("/api/v1/users/"+this.props.match.params.id,{method:"PUT",body:t,headers:{Authorization:"Bearer ".concat(a)}}));case 9:return n=s.sent,s.next=12,v.a.awrap(n.json());case 12:r=s.sent,console.log("response:",JSON.stringify(r)),r.error?"there is already previewUser with such login"==r.error?this.setState({serverError:r.error}):this.setState({serverError:"bad input"}):this.props.history.push("/users/"+this.props.match.params.id),s.next=19;break;case 17:s.prev=17,s.t0=s.catch(6);case 19:case"end":return s.stop()}}),null,this,[[6,17]])}},{key:"handleLoginInput",value:function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=this.state.previewUser).login=e.target.value,a.next=4,v.a.awrap(this.setState({previewUser:t}));case 4:case"end":return a.stop()}}),null,this)}},{key:"handleFullnameInput",value:function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=this.state.previewUser).fullname=e.target.value,a.next=4,v.a.awrap(this.setState({previewUser:t}));case 4:case"end":return a.stop()}}),null,this)}},{key:"getUser",value:function(e){var t,a,n,r,s;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=localStorage.getItem("jwt")){l.next=5;break}return l.next=4,v.a.awrap(this.setState({authSetted:!0}));case 4:return l.abrupt("return");case 5:return a={headers:{Authorization:"Bearer ".concat(t)}},l.next=8,v.a.awrap(fetch("/api/v1/me/",a));case 8:if(!(n=l.sent).ok){l.next=21;break}return l.next=12,v.a.awrap(n.json());case 12:return n=l.sent,console.log("user"),console.log(n),l.next=17,v.a.awrap(this.setState({authSetted:!0}));case 17:return l.next=19,v.a.awrap(this.setState({user:n}));case 19:l.next=24;break;case 21:return l.next=23,v.a.awrap(this.setState({authSetted:!0,error:"not authorized"}));case 23:return l.abrupt("return");case 24:return l.next=26,v.a.awrap(fetch("/api/v1/users/"+e,a));case 26:if(!(r=l.sent).ok){l.next=37;break}return l.next=30,v.a.awrap(r.json());case 30:return r=l.sent,console.log(r),r.avaUrl||(r.avaUrl="http://res.cloudinary.com/dksfym6ok/image/upload/v1575476141/asd.png"),l.next=35,v.a.awrap(this.setState({previewUser:r}));case 35:l.next=41;break;case 37:return console.log("hmm"),l.next=40,v.a.awrap(this.setState({error:"no such previewUser"}));case 40:return l.abrupt("return");case 41:return s=!1,this.state.previewUser&&this.state.previewUser.owner&&(s=this.state.previewUser.owner.toString()==this.state.user.id.toString()||this.state.user.role),l.next=45,v.a.awrap(this.setState({can:s}));case 45:case"end":return l.stop()}}),null,this)}},{key:"render",value:function(){return this.state.authSetted?r.a.createElement("div",{class:"container magrinTop30"},r.a.createElement("div",{class:"marginLeft20"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"img"},r.a.createElement("img",{src:this.state.previewUser.avaUrl,class:"img-thumbnail userImage"}))),r.a.createElement("div",Object(W.a)({class:"col-sm-4"},"class","padiingLeft"),r.a.createElement("br",null),r.a.createElement("h3",null,"Edit profile"),this.state.serverError,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"login")),r.a.createElement("input",{type:"text",onChange:this.handleLoginInput,value:this.state.previewUser.login,login:"login",placeholder:"login",required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"fullname")),r.a.createElement("input",{type:"text",onChange:this.handleFullnameInput,value:this.state.previewUser.fullname,login:"login",placeholder:"login",required:!0,class:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",name:"avaUrl",onChange:this.handleAvaChange,accept:".jpg,.jpeg,.png",id:"inputGroupFile02"}),r.a.createElement("label",{class:"custom-file-label butt",id:"need",for:"inputGroupFile02"},"Choose file"))),r.a.createElement("button",{class:"btn btn btn-primary btn-block",type:"submit"},"save changes")))))):r.a.createElement("div",null)}}]),t}(r.a.Component),V=a(17),Y=Object(V.a)();function $(e){return r.a.createElement("div",{class:"indexText",style:{marginLeft:"0",minWidth:"100%",textAlign:"center"}},r.a.createElement("div",{class:"d-flex justify-content-center align-items-center ",id:"main"},r.a.createElement("h2",{class:"font-weight-normal lead ",id:"desc"},"success")))}function K(e){localStorage.getItem("jwt");var t=Object(n.useState)(!1),a=Object(u.a)(t,2),s=a[0],l=a[1];return Object(n.useEffect)((function(){!function(){var e,t,a;v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=localStorage.getItem("jwt")){n.next=3;break}return n.abrupt("return");case 3:return t={method:"POST",headers:{Authorization:"Bearer ".concat(e)}},a=new URL(document.location).searchParams,n.next=7,v.a.awrap(fetch("/api/v1/telegram?chat_id="+a.get("id"),t));case 7:n.sent.ok&&l(!0);case 9:case"end":return n.stop()}}))}()}),[]),s?r.a.createElement($,null):r.a.createElement(P,null)}function Q(e){return r.a.createElement("div",null,r.a.createElement("table",{class:"cwdtable",cellspacing:"0",cellpadding:"1",border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:"2"},"Users"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"GET /api/v1/me"),r.a.createElement("td",null,"\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 JSON ")),r.a.createElement("tr",null,r.a.createElement("td",null,"GET /api/v1/users/:id"),r.a.createElement("td",null,"\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0437\u0430 \u0439\u043e\u0433\u043e _id \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 JSON. ")),r.a.createElement("tr",null,r.a.createElement("td",null,"GET /api/v1/users?page=n"),r.a.createElement("td",null,"\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0456\u0441\u043d\u0443\u044e\u0447\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 JSON. \u0420\u043e\u0437\u0431\u0438\u0432\u0430\u0454 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u043f\u043e 2 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430. \u0414\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f n-\u043d\u043d\u043e\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0457\u0457 \u043d\u043e\u043c\u0435\u0440 \u044f\u043a \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043f\u043e\u043b\u044f page. ")),r.a.createElement("tr",null,r.a.createElement("td",null,"GET /api/v1/users?par=key"),r.a.createElement("td",null,"\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043c\u0430\u0441\u0438\u0432 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 \u0449\u043e \u0437\u0430\u0434\u043e\u0456\u0432\u043b\u044c\u043d\u044f\u044e\u0442\u044c \u0443\u043c\u043e\u0432\u0443 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 JSON ")),r.a.createElement("tr",null,r.a.createElement("td",null,"DELETE /api/v1/users/:id"),r.a.createElement("td",null,"\u0412\u0438\u0434\u0430\u043b\u044f\u0454 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442 ")),r.a.createElement("tr",null,r.a.createElement("td",null,"PUT /api/v1/users"),r.a.createElement("td",null,"\u041e\u043d\u043e\u0432\u043b\u044e\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0437\u0433\u0456\u0434\u043d\u043e \u0437 \u0437\u0430\u0434\u0430\u043d\u0438\u043c\u0438 \u043d\u043e\u0432\u0438\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c\u0438. \u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0441\u0442\u0430\u0440\u0456 \u0434\u0430\u043d\u0456")),r.a.createElement("tr",null,r.a.createElement("td",null,"POST /api/v1/users"),r.a.createElement("td",null,"\u0421\u0442\u0432\u043e\u0440\u044e\u0454 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430. \u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0439\u043e\u0433\u043e \u0432 JSON \u0444\u043e\u0440\u043c\u0430\u0442\u0456 \u0440\u0430\u0437\u043e\u043c \u0437 \u043d\u0430\u0434\u0430\u043d\u0438\u043c _id.  ")))),r.a.createElement("br",null),r.a.createElement("table",{class:"cwdtable",cellspacing:"0",cellpadding:"1",border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:"2"},"Photos"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"GET /api/v1/photos/:id"),r.a.createElement("td",null,"\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0444\u043e\u0442\u043e \u0437\u0430 \u0439\u043e\u0433\u043e _id \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 JSON. ")),r.a.createElement("tr",null,r.a.createElement("td",null,"GET /api/v1/photos?page=n"),r.a.createElement("td",null,"\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0456\u0441\u043d\u0443\u044e\u0447\u0456 \u0444\u043e\u0442\u043e \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 JSON. \u0420\u043e\u0437\u0431\u0438\u0432\u0430\u0454 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u043f\u043e 2 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430. \u0414\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f n-\u043d\u043d\u043e\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0457\u0457 \u043d\u043e\u043c\u0435\u0440 \u044f\u043a \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043f\u043e\u043b\u044f page. ")),r.a.createElement("tr",null,r.a.createElement("td",null,"GET /api/v1/photos?par=key"),r.a.createElement("td",null,"\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043c\u0430\u0441\u0438\u0432 \u0444\u043e\u0442\u043e \u0449\u043e \u0437\u0430\u0434\u043e\u0456\u0432\u043b\u044c\u043d\u044f\u044e\u0442\u044c \u0443\u043c\u043e\u0432\u0443 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 JSON ")),r.a.createElement("tr",null,r.a.createElement("td",null,"DELETE /api/v1/photos/:id"),r.a.createElement("td",null,"\u0412\u0438\u0434\u0430\u043b\u044f\u0454 \u0444\u043e\u0442\u043e \u0437\u0430 _id, \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442 ")),r.a.createElement("tr",null,r.a.createElement("td",null,"PUT /api/v1/photos"),r.a.createElement("td",null,"\u041e\u043d\u043e\u0432\u043b\u044e\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0444\u043e\u0442\u043e \u0437\u0433\u0456\u0434\u043d\u043e \u0437 \u0437\u0430\u0434\u0430\u043d\u0438\u043c\u0438 \u043d\u043e\u0432\u0438\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c\u0438. \u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0441\u0442\u0430\u0440\u0456 \u0434\u0430\u043d\u0456")),r.a.createElement("tr",null,r.a.createElement("td",null,"POST /api/v1/photos"),r.a.createElement("td",null,"\u0421\u0442\u0432\u043e\u0440\u044e\u0454 \u043d\u043e\u0432\u0435 \u0444\u043e\u0442\u043e . \u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0439\u043e\u0433\u043e \u0432 JSON \u0444\u043e\u0440\u043c\u0430\u0442\u0456 \u0440\u0430\u0437\u043e\u043c \u0437 \u043d\u0430\u0434\u0430\u043d\u0438\u043c _id.  ")))),r.a.createElement("br",null),r.a.createElement("table",{class:"cwdtable",cellspacing:"0",cellpadding:"1",border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:"2"},"Albums"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"GET /api/v1/albums/:id"),r.a.createElement("td",null,"\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0430\u043b\u044c\u0431\u043e\u043c \u0437\u0430 \u0439\u043e\u0433\u043e _id \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 JSON. ")),r.a.createElement("tr",null,r.a.createElement("td",null,"GET /api/v1/albums?page=n"),r.a.createElement("td",null,"\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0456\u0441\u043d\u0443\u044e\u0447\u0456 \u0430\u043b\u044c\u0431\u043e\u043c\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 JSON. \u0420\u043e\u0437\u0431\u0438\u0432\u0430\u0454 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u043f\u043e 2 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430. \u0414\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f n-\u043d\u043d\u043e\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0457\u0457 \u043d\u043e\u043c\u0435\u0440 \u044f\u043a \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043f\u043e\u043b\u044f page. ")),r.a.createElement("tr",null,r.a.createElement("td",null,"GET /api/v1/albums?par=key"),r.a.createElement("td",null,"\u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u043c\u0430\u0441\u0438\u0432 \u0430\u043b\u044c\u0431\u043e\u043c\u0456\u0432 \u0449\u043e \u0437\u0430\u0434\u043e\u0456\u0432\u043b\u044c\u043d\u044f\u044e\u0442\u044c \u0443\u043c\u043e\u0432\u0443 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 JSON ")),r.a.createElement("tr",null,r.a.createElement("td",null,"DELETE /api/v1/albums/:id"),r.a.createElement("td",null,"\u0412\u0438\u0434\u0430\u043b\u044f\u0454 \u0430\u043b\u044c\u0431\u043e\u043c \u0437\u0430 _id, \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442 ")),r.a.createElement("tr",null,r.a.createElement("td",null,"PUT /api/v1/albums"),r.a.createElement("td",null,"\u041e\u043d\u043e\u0432\u043b\u044e\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0430\u043b\u044c\u0431\u043e\u043c \u0437\u0433\u0456\u0434\u043d\u043e \u0437 \u0437\u0430\u0434\u0430\u043d\u0438\u043c\u0438 \u043d\u043e\u0432\u0438\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c\u0438. \u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0441\u0442\u0430\u0440\u0456 \u0434\u0430\u043d\u0456")),r.a.createElement("tr",null,r.a.createElement("td",null,"POST /api/v1/albums"),r.a.createElement("td",null,"\u0421\u0442\u0432\u043e\u0440\u044e\u0454 \u043d\u043e\u0432\u0438\u0439 \u0430\u043b\u044c\u0431\u043e\u043c . \u041f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 \u0439\u043e\u0433\u043e \u0432 JSON \u0444\u043e\u0440\u043c\u0430\u0442\u0456 \u0440\u0430\u0437\u043e\u043c \u0437 \u043d\u0430\u0434\u0430\u043d\u0438\u043c _id.  ")))),r.a.createElement("br",null),r.a.createElement("table",{class:"cwdtable",cellspacing:"0",cellpadding:"1",border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:"2"},"Auth"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"BasicAuth"),r.a.createElement("td",null,"\u043d\u0430\u0434\u0430\u0454 \u0442\u0438\u043c\u0447\u0430\u0441\u043e\u0432\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e api \u0437\u0430\u043f\u0440\u043e\u0441\u0456\u0432 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \u0434\u043e \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0443  ")),r.a.createElement("tr",null,r.a.createElement("td",null,"Auth on site"),r.a.createElement("td",null,"\u0414\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0438\u0445 \u0440\u0435\u0441\u0443\u0440\u0441\u0456\u0432")))),r.a.createElement("br",null),r.a.createElement("table",{class:"cwdtable",cellspacing:"0",cellpadding:"1",border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:"2"},"Errors"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"status 404"),r.a.createElement("td",null,"\u0440\u0435\u0441\u0443\u0440\u0441\u0443 \u0437 \u0442\u0430\u043a\u0438\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e  ")),r.a.createElement("tr",null,r.a.createElement("td",null,"status 401"),r.a.createElement("td",null,"\u041f\u043e\u0442\u0440\u0456\u0431\u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0456\u044f \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443")),r.a.createElement("tr",null,r.a.createElement("td",null,"status 403"),r.a.createElement("td",null,"\u041f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443")),r.a.createElement("tr",null,r.a.createElement("td",null,"status 500"),r.a.createElement("td",null,"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u043e\u0431\u0446\u0456 \u0437\u0430\u043f\u0438\u0442\u0443")))))}var X=function(){return r.a.createElement("div",{id:"App"},r.a.createElement(c.a,null,r.a.createElement(d,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/about",exact:!0,component:g}),r.a.createElement(o.a,{path:"/",exact:!0,component:E}),r.a.createElement(o.a,{path:"/login",exact:!0,component:j}),r.a.createElement(o.a,{path:"/logout",exact:!0,component:C}),r.a.createElement(o.a,{path:"/register",exact:!0,component:O}),r.a.createElement(o.a,{path:"/photos/:id",history:Y,exact:!0,component:G}),r.a.createElement(o.a,{path:"/albums/:id",history:Y,exact:!0,component:L}),r.a.createElement(o.a,{path:"/photos",exact:!0,component:I}),r.a.createElement(o.a,{path:"/newphoto",exact:!0,component:T}),r.a.createElement(o.a,{path:"/newalbum",exact:!0,component:A}),r.a.createElement(o.a,{path:"/editphoto/:id",exact:!0,component:_}),r.a.createElement(o.a,{path:"/myphotos",exact:!0,component:N}),r.a.createElement(o.a,{path:"/albums",exact:!0,component:R}),r.a.createElement(o.a,{path:"/users",exact:!0,component:q}),r.a.createElement(o.a,{path:"/users/:id",exact:!0,component:H}),r.a.createElement(o.a,{path:"/bot/auth",exact:!0,component:K}),r.a.createElement(o.a,{path:"/editusers/:id",exact:!0,component:M}),r.a.createElement(o.a,{path:"/dev/v1",exact:!0,component:Q}),r.a.createElement(o.a,{path:"*",component:B}))),r.a.createElement(i,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(85);l.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.a5865b26.chunk.js.map